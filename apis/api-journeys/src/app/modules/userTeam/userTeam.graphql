extend type AuthenticatedUser @key(fields: "id") {
  id: ID! @external
}

extend type AuthenticatedUser @key(fields: "id") {
  id: ID! @external
}

enum UserTeamRole {
  manager
  member
}

type UserTeam @key(fields: "id") @shareable {
  id: ID!
  user: AuthenticatedUser!
  role: UserTeamRole!
  createdAt: DateTime!
  updatedAt: DateTime!
}

extend type Query {
  userTeams(teamId: ID!, where: UserTeamFilterInput): [UserTeam!]!
  userTeam(id: ID!): UserTeam!
}

input UserTeamUpdateInput {
  role: UserTeamRole!
}

input UserTeamFilterInput {
  role: [UserTeamRole!]
}

extend type Mutation {
  userTeamUpdate(id: ID!, input: UserTeamUpdateInput): UserTeam!
  userTeamDelete(id: ID!): UserTeam!
}
