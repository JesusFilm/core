[{"/workspaces/core/apps/journeys/pages/404.tsx":"1","/workspaces/core/apps/journeys/pages/[journeySlug].tsx":"2","/workspaces/core/apps/journeys/pages/_app.tsx":"3","/workspaces/core/apps/journeys/pages/_document.tsx":"4","/workspaces/core/apps/journeys/pages/api/geolocation.ts":"5","/workspaces/core/apps/journeys/pages/api/revalidate.ts":"6","/workspaces/core/apps/journeys/pages/embed/[journeySlug].tsx":"7","/workspaces/core/apps/journeys/pages/embed/test/[journeySlug].tsx":"8","/workspaces/core/apps/journeys/pages/index.tsx":"9","/workspaces/core/apps/journeys/src/components/Conductor/Conductor.spec.tsx":"10","/workspaces/core/apps/journeys/src/components/Conductor/Conductor.stories.tsx":"11","/workspaces/core/apps/journeys/src/components/Conductor/Conductor.tsx":"12","/workspaces/core/apps/journeys/src/components/Conductor/NavigationButton/NavigationButton.spec.tsx":"13","/workspaces/core/apps/journeys/src/components/Conductor/NavigationButton/NavigationButton.tsx":"14","/workspaces/core/apps/journeys/src/components/Conductor/NavigationButton/index.ts":"15","/workspaces/core/apps/journeys/src/components/Conductor/index.ts":"16","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/ButtonWrapper/ButtonWrapper.tsx":"17","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/EmbeddedPreview.spec.tsx":"18","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/EmbeddedPreview.stories.tsx":"19","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/EmbeddedPreview.tsx":"20","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/RadioOptionWrapper/RadioOptionWrapper.tsx":"21","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/VideoWrapper/VideoWrapper.spec.tsx":"22","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/VideoWrapper/VideoWrapper.tsx":"23","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/index.ts":"24","/workspaces/core/apps/journeys/src/libs/apolloClient/apolloClient.ts":"25","/workspaces/core/apps/journeys/src/libs/apolloClient/cache/cache.ts":"26","/workspaces/core/apps/journeys/src/libs/apolloClient/cache/index.ts":"27","/workspaces/core/apps/journeys/src/libs/apolloClient/index.ts":"28","/workspaces/core/apps/journeys/src/libs/firebaseClient/firebaseClient.ts":"29","/workspaces/core/apps/journeys/src/libs/firebaseClient/index.ts":"30","/workspaces/core/apps/journeys/src/libs/storybook/config.tsx":"31","/workspaces/core/apps/journeys/src/libs/storybook/index.ts":"32","/workspaces/core/apps/journeys/src/libs/testData/storyData.ts":"33","/workspaces/core/apps/journeys/src/libs/useFullscreenStatus/useFullscreenStatus.ts":"34"},{"size":2836,"mtime":1688771837422,"results":"35","hashOfConfig":"36"},{"size":4454,"mtime":1688771837422,"results":"37","hashOfConfig":"36"},{"size":3473,"mtime":1689899474742,"results":"38","hashOfConfig":"36"},{"size":4350,"mtime":1688771837422,"results":"39","hashOfConfig":"36"},{"size":338,"mtime":1688771837422,"results":"40","hashOfConfig":"36"},{"size":716,"mtime":1688771837422,"results":"41","hashOfConfig":"36"},{"size":4420,"mtime":1688771837422,"results":"42","hashOfConfig":"36"},{"size":1786,"mtime":1690227937422,"results":"43","hashOfConfig":"36"},{"size":5421,"mtime":1688771837422,"results":"44","hashOfConfig":"36"},{"size":7942,"mtime":1690576625793,"results":"45","hashOfConfig":"36"},{"size":3400,"mtime":1690576625793,"results":"46","hashOfConfig":"36"},{"size":7797,"mtime":1690576625793,"results":"47","hashOfConfig":"36"},{"size":5423,"mtime":1690576625793,"results":"48","hashOfConfig":"36"},{"size":3864,"mtime":1690576625793,"results":"49","hashOfConfig":"36"},{"size":54,"mtime":1690576625793,"results":"50","hashOfConfig":"36"},{"size":40,"mtime":1688771837422,"results":"51","hashOfConfig":"36"},{"size":1646,"mtime":1688771837422,"results":"52","hashOfConfig":"36"},{"size":1723,"mtime":1689899474742,"results":"53","hashOfConfig":"36"},{"size":2401,"mtime":1689899474742,"results":"54","hashOfConfig":"36"},{"size":4305,"mtime":1690234913418,"results":"55","hashOfConfig":"36"},{"size":1238,"mtime":1688771837422,"results":"56","hashOfConfig":"36"},{"size":3906,"mtime":1689899474742,"results":"57","hashOfConfig":"36"},{"size":5452,"mtime":1689899474742,"results":"58","hashOfConfig":"36"},{"size":52,"mtime":1688771837422,"results":"59","hashOfConfig":"36"},{"size":1276,"mtime":1688771837422,"results":"60","hashOfConfig":"36"},{"size":1500,"mtime":1689899474742,"results":"61","hashOfConfig":"36"},{"size":32,"mtime":1688771837422,"results":"62","hashOfConfig":"36"},{"size":63,"mtime":1688771837422,"results":"63","hashOfConfig":"36"},{"size":314,"mtime":1688771837422,"results":"64","hashOfConfig":"36"},{"size":50,"mtime":1688771837422,"results":"65","hashOfConfig":"36"},{"size":468,"mtime":1688771837422,"results":"66","hashOfConfig":"36"},{"size":65,"mtime":1688771837422,"results":"67","hashOfConfig":"36"},{"size":54149,"mtime":1689899474742,"results":"68","hashOfConfig":"36"},{"size":2555,"mtime":1688771837422,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"73"},"19578z2",{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":5,"fixableWarningCount":0,"source":"77"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"81"},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"85"},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":6,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"102"},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":3,"fixableWarningCount":0,"source":"106"},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"110"},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":8,"fixableWarningCount":0,"source":"114"},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"118"},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"122"},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"132"},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"136"},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"140"},{"filePath":"141","messages":"142","suppressedMessages":"143","errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":3,"fixableWarningCount":0,"source":"144"},{"filePath":"145","messages":"146","suppressedMessages":"147","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"148"},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"152"},{"filePath":"153","messages":"154","suppressedMessages":"155","errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":3,"fixableWarningCount":0,"source":"156"},{"filePath":"157","messages":"158","suppressedMessages":"159","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","suppressedMessages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"163","messages":"164","suppressedMessages":"165","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","suppressedMessages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"169","messages":"170","suppressedMessages":"171","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"172","messages":"173","suppressedMessages":"174","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"175","messages":"176","suppressedMessages":"177","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"178","messages":"179","suppressedMessages":"180","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"181","messages":"182","suppressedMessages":"183","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","suppressedMessages":"186","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"187"},{"filePath":"188","messages":"189","suppressedMessages":"190","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/workspaces/core/apps/journeys/pages/404.tsx",["191","192"],[],"import { ReactElement } from 'react'\nimport { transformer } from '@core/journeys/ui/transformer'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport { Conductor } from '../src/components/Conductor'\nimport { GetJourney_journey_blocks as Block } from '../__generated__/GetJourney'\nimport {\n  IconName,\n  TypographyAlign,\n  TypographyVariant,\n  ButtonColor,\n  ButtonVariant,\n  ButtonSize,\n  ThemeName,\n  ThemeMode\n} from '../__generated__/globalTypes'\n\nconst blocks: Block[] = [\n  {\n    __typename: 'StepBlock',\n    id: 'stepBlock1.id',\n    locked: false,\n    nextBlockId: null,\n    parentBlockId: null,\n    parentOrder: 0\n  },\n  {\n    __typename: 'CardBlock',\n    backgroundColor: '#30313D',\n    coverBlockId: 'imageBlock1.id',\n    fullscreen: false,\n    id: 'cardBlock1.id',\n    parentBlockId: 'stepBlock1.id',\n    parentOrder: 0,\n    themeMode: null,\n    themeName: null\n  },\n  {\n    __typename: 'ImageBlock',\n    alt: 'error-404-image',\n    blurhash: 'U05OKJ0300sq5O?Y~VM|0M-.%1%K~o9HEKxu',\n    height: 2230,\n    id: 'imageBlock1.id',\n    parentBlockId: 'cardBlock1.id',\n    parentOrder: null,\n    src: 'https://images.unsplash.com/photo-1522030865324-4062412a2023?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3244&q=80',\n    width: 3244\n  },\n  {\n    __typename: 'TypographyBlock',\n    align: TypographyAlign.center,\n    color: null,\n    content: '404',\n    id: 'typog1.id',\n    parentBlockId: 'cardBlock1.id',\n    parentOrder: 0,\n    variant: TypographyVariant.h2\n  },\n  {\n    __typename: 'TypographyBlock',\n    align: TypographyAlign.center,\n    color: null,\n    content: 'This journey is not available.',\n    id: 'typog2.id',\n    parentBlockId: 'cardBlock1.id',\n    parentOrder: 1,\n    variant: TypographyVariant.h5\n  },\n  {\n    __typename: 'ButtonBlock',\n    buttonColor: ButtonColor.primary,\n    buttonVariant: ButtonVariant.contained,\n    endIconId: 'icon2.id',\n    id: 'button1.id',\n    label: 'See Other Journeys',\n    parentBlockId: 'cardBlock1.id',\n    parentOrder: 2,\n    size: ButtonSize.large,\n    startIconId: 'icon1,id',\n    action: {\n      gtmEventName: null,\n      parentBlockId: 'button1.id',\n      url: '/',\n      __typename: 'LinkAction'\n    }\n  },\n  {\n    __typename: 'IconBlock',\n    iconColor: null,\n    iconName: IconName.SubscriptionsRounded,\n    iconSize: null,\n    id: 'icon1,id',\n    parentBlockId: 'button1.id',\n    parentOrder: null\n  },\n  {\n    __typename: 'IconBlock',\n    iconColor: null,\n    iconName: null,\n    iconSize: null,\n    id: 'icon2.id',\n    parentBlockId: 'button1.id',\n    parentOrder: null\n  }\n]\n\nexport function Custom404(): ReactElement {\n  return (\n    <ThemeProvider themeName={ThemeName.base} themeMode={ThemeMode.dark}>\n      <Conductor blocks={transformer(blocks)} />\n    </ThemeProvider>\n  )\n}\n\nexport default Custom404\n","/workspaces/core/apps/journeys/pages/[journeySlug].tsx",["193","194","195","196","197"],[],"import { ReactElement } from 'react'\nimport { GetStaticPaths, GetStaticProps } from 'next'\nimport { gql } from '@apollo/client'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport { transformer } from '@core/journeys/ui/transformer'\nimport { JOURNEY_FIELDS } from '@core/journeys/ui/JourneyProvider/journeyFields'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useRouter } from 'next/router'\nimport { Conductor } from '../src/components/Conductor'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../__generated__/GetJourneySlugs'\nimport i18nConfig from '../next-i18next.config'\n\ninterface JourneyPageProps {\n  journey: Journey\n  locale: string\n  rtl: boolean\n}\n\nfunction JourneyPage({ journey, locale, rtl }: JourneyPageProps): ReactElement {\n  const router = useRouter()\n  const isIframe = typeof window !== 'undefined' && window.self !== window.top\n  if (isIframe) {\n    void router.push('/embed/[journeySlug]', `/embed/${journey.slug}`)\n  }\n  return (\n    <>\n      <NextSeo\n        nofollow\n        noindex\n        title={journey.seoTitle ?? undefined}\n        description={journey.seoDescription ?? undefined}\n        openGraph={{\n          type: 'website',\n          title: journey.seoTitle ?? undefined,\n          url: `https://${\n            process.env.NEXT_PUBLIC_VERCEL_URL ?? 'your.nextstep.is'\n          }/${journey.slug}`,\n          description: journey.seoDescription ?? undefined,\n          images:\n            journey.primaryImageBlock?.src != null\n              ? [\n                  {\n                    url: journey.primaryImageBlock.src,\n                    width: journey.primaryImageBlock.width,\n                    height: journey.primaryImageBlock.height,\n                    alt: journey.primaryImageBlock.alt,\n                    type: 'image/jpeg'\n                  }\n                ]\n              : []\n        }}\n        facebook={\n          process.env.NEXT_PUBLIC_FACEBOOK_APP_ID != null\n            ? {\n                appId: process.env.NEXT_PUBLIC_FACEBOOK_APP_ID\n              }\n            : undefined\n        }\n        twitter={{\n          site: '@YourNextStepIs',\n          cardType: 'summary_large_image'\n        }}\n      />\n      <JourneyProvider value={{ journey }}>\n        <ThemeProvider\n          themeName={journey.themeName}\n          themeMode={journey.themeMode}\n          rtl={rtl}\n          locale={locale}\n        >\n          {journey.blocks != null && (\n            <Conductor blocks={transformer(journey.blocks)} />\n          )}\n        </ThemeProvider>\n      </JourneyProvider>\n    </>\n  )\n}\n\nexport const GET_JOURNEY = gql`\n  ${JOURNEY_FIELDS}\n  query GetJourney($id: ID!) {\n    journey(id: $id, idType: slug) {\n      ...JourneyFields\n    }\n  }\n`\n\nexport const getStaticProps: GetStaticProps<JourneyPageProps> = async (\n  context\n) => {\n  const apolloClient = createApolloClient()\n  const { data } = await apolloClient.query<GetJourney>({\n    query: GET_JOURNEY,\n    variables: {\n      id: context.params?.journeySlug\n    }\n  })\n\n  if (data.journey === null) {\n    return {\n      props: {\n        ...(await serverSideTranslations(\n          context.locale ?? 'en',\n          ['apps-journeys', 'libs-journeys-ui'],\n          i18nConfig\n        ))\n      },\n      notFound: true,\n      revalidate: 60\n    }\n  } else {\n    const { rtl, locale } = getJourneyRTL(data.journey)\n\n    return {\n      props: {\n        ...(await serverSideTranslations(\n          context.locale ?? 'en',\n          ['apps-journeys', 'libs-journeys-ui'],\n          i18nConfig\n        )),\n        journey: data.journey,\n        locale,\n        rtl\n      },\n      revalidate: 60\n    }\n  }\n}\n\nexport const GET_JOURNEY_SLUGS = gql`\n  query GetJourneySlugs {\n    journeys {\n      slug\n    }\n  }\n`\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n  const apolloClient = createApolloClient()\n  const { data } = await apolloClient.query<GetJourneySlugs>({\n    query: GET_JOURNEY_SLUGS\n  })\n\n  const paths = data.journeys.map(({ slug: journeySlug }) => ({\n    params: { journeySlug }\n  }))\n\n  return {\n    paths,\n    fallback: 'blocking'\n  }\n}\n\nexport default JourneyPage\n","/workspaces/core/apps/journeys/pages/_app.tsx",["198","199"],[],"import { AppProps as NextJsAppProps } from 'next/app'\nimport Head from 'next/head'\nimport { ReactElement, useEffect } from 'react'\nimport { ApolloProvider } from '@apollo/client'\nimport { DefaultSeo } from 'next-seo'\nimport TagManager from 'react-gtm-module'\nimport { datadogRum } from '@datadog/browser-rum'\nimport { CacheProvider } from '@emotion/react'\nimport type { EmotionCache } from '@emotion/cache'\nimport { createEmotionCache } from '@core/shared/ui/createEmotionCache'\nimport { SnackbarProvider } from 'notistack'\nimport { getAuth, onAuthStateChanged } from 'firebase/auth'\nimport { appWithTranslation, SSRConfig } from 'next-i18next'\nimport { useTranslation } from 'react-i18next'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { useApollo } from '../src/libs/apolloClient'\nimport { firebaseClient } from '../src/libs/firebaseClient'\nimport i18nConfig from '../next-i18next.config'\nimport { GetJourney_journey as Journey } from '../__generated__/GetJourney'\n\ntype JourneysAppProps = NextJsAppProps<{ journey?: Journey }> & {\n  pageProps: SSRConfig\n  emotionCache?: EmotionCache\n}\n\nfunction JourneysApp({\n  Component,\n  pageProps,\n  emotionCache = createEmotionCache({\n    rtl: getJourneyRTL(pageProps.journey).rtl\n  })\n}: JourneysAppProps): ReactElement {\n  const { t } = useTranslation('apps-journeys')\n  useEffect(() => {\n    if (\n      process.env.NEXT_PUBLIC_GTM_ID != null &&\n      process.env.NEXT_PUBLIC_GTM_ID !== ''\n    )\n      TagManager.initialize({ gtmId: process.env.NEXT_PUBLIC_GTM_ID })\n\n    if (\n      process.env.NEXT_PUBLIC_DATADOG_APPLICATION_ID != null &&\n      process.env.NEXT_PUBLIC_DATADOG_APPLICATION_ID !== '' &&\n      process.env.NEXT_PUBLIC_DATADOG_CLIENT_TOKEN != null &&\n      process.env.NEXT_PUBLIC_DATADOG_CLIENT_TOKEN !== ''\n    )\n      datadogRum.init({\n        applicationId: process.env.NEXT_PUBLIC_DATADOG_APPLICATION_ID,\n        clientToken: process.env.NEXT_PUBLIC_DATADOG_CLIENT_TOKEN,\n        site: 'datadoghq.com',\n        service: 'journeys',\n        env: process.env.NEXT_PUBLIC_VERCEL_ENV,\n        version: process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA,\n        sampleRate: 50,\n        sessionReplaySampleRate: 10,\n        trackInteractions: true,\n        defaultPrivacyLevel: 'mask-user-input'\n      })\n\n    // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side')\n    if (jssStyles != null) {\n      jssStyles.parentElement?.removeChild(jssStyles)\n    }\n    const auth = getAuth(firebaseClient)\n    return onAuthStateChanged(auth, (user) => {\n      if (user != null) {\n        TagManager.dataLayer({ dataLayer: { userId: user.uid } })\n      } else {\n        TagManager.dataLayer({ dataLayer: { userId: undefined } })\n      }\n    })\n  }, [])\n  const apolloClient = useApollo()\n\n  return (\n    <CacheProvider value={emotionCache}>\n      <DefaultSeo\n        titleTemplate={t('%s | Next Steps')}\n        defaultTitle={t('Next Steps')}\n      />\n      <Head>\n        <meta\n          name=\"viewport\"\n          content=\"minimum-scale=1, initial-scale=1, width=device-width\"\n        />\n      </Head>\n      <ApolloProvider client={apolloClient}>\n        <SnackbarProvider\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right'\n          }}\n        >\n          <Component {...pageProps} />\n        </SnackbarProvider>\n      </ApolloProvider>\n    </CacheProvider>\n  )\n}\n\nexport default appWithTranslation(JourneysApp, i18nConfig)\n","/workspaces/core/apps/journeys/pages/_document.tsx",["200"],[],"import { ReactElement, FunctionComponent } from 'react'\nimport Document, { Html, Head, Main, NextScript } from 'next/document'\nimport createEmotionServer from '@emotion/server/create-instance'\nimport type { EmotionCache } from '@emotion/cache'\nimport type { Enhancer, AppType } from 'next/dist/shared/lib/utils'\nimport { createEmotionCache } from '@core/shared/ui/createEmotionCache'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\n\nexport default class MyDocument extends Document<{\n  emotionStyleTags: ReactElement[]\n  rtl: boolean\n  locale: string\n}> {\n  render(): ReactElement {\n    return (\n      <Html lang=\"en\" dir={this.props.rtl ? 'rtl' : ''}>\n        <Head>\n          <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n          <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n          {this.props.rtl && this.props.locale !== 'ur' ? (\n            <>\n              <link\n                href=\"https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;600;700&family=Tajawal:wght@400;700&display=swap\"\n                rel=\"stylesheet\"\n              />\n              <link\n                href=\"https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;600;700&family=Tajawal:wght@400;700&display=swap\"\n                rel=\"preload\"\n                as=\"style\"\n              />\n            </>\n          ) : (\n            <>\n              <link\n                href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Open+Sans&display=swap\"\n                rel=\"stylesheet\"\n              />\n              <link\n                href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Open+Sans&display=swap\"\n                rel=\"preload\"\n                as=\"style\"\n              />\n            </>\n          )}\n          <link\n            rel=\"apple-touch-icon\"\n            sizes=\"180x180\"\n            href=\"/apple-touch-icon.png\"\n          />\n          <link\n            rel=\"icon\"\n            type=\"image/png\"\n            sizes=\"16x16\"\n            href=\"/favicon-16x16.png\"\n          />\n          <link rel=\"manifest\" href=\"/site.webmanifest\" />\n          {/* Inject MUI styles first to match with the prepend: true configuration. */}\n          {this.props.emotionStyleTags}\n        </Head>\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    )\n  }\n}\n\n// `getInitialProps` belongs to `_document` (instead of `_app`),\n// it's compatible with static-site generation (SSG).\nMyDocument.getInitialProps = async (ctx) => {\n  // Resolution order\n  //\n  // On the server:\n  // 1. app.getInitialProps\n  // 2. page.getInitialProps\n  // 3. document.getInitialProps\n  // 4. app.render\n  // 5. page.render\n  // 6. document.render\n  //\n  // On the server with error:\n  // 1. document.getInitialProps\n  // 2. app.render\n  // 3. page.render\n  // 4. document.render\n  //\n  // On the client\n  // 1. app.getInitialProps\n  // 2. page.getInitialProps\n  // 3. app.render\n  // 4. page.render\n\n  const originalRenderPage = ctx.renderPage\n\n  // You can consider sharing the same emotion cache between all the SSR requests to speed up performance.\n  // However, be aware that it can have global side effects.\n  const cache = createEmotionCache({})\n  const { extractCriticalToChunks } = createEmotionServer(cache)\n\n  let pageProps\n\n  ctx.renderPage = () =>\n    originalRenderPage({\n      enhanceApp: ((App: FunctionComponent<{ emotionCache: EmotionCache }>) => {\n        return function EnhanceApp(props) {\n          pageProps = props.pageProps.journey\n          return <App emotionCache={cache} {...props} />\n        }\n      }) as unknown as Enhancer<AppType>\n    })\n\n  const initialProps = await Document.getInitialProps(ctx)\n  // This is important. It prevents emotion to render invalid HTML.\n  // See https://github.com/mui/material-ui/issues/26561#issuecomment-855286153\n  const emotionStyles = extractCriticalToChunks(initialProps.html)\n  const emotionStyleTags = emotionStyles.styles.map((style) => (\n    <style\n      data-emotion={`${style.key} ${style.ids.join(' ')}`}\n      key={style.key}\n      // eslint-disable-next-line react/no-danger\n      dangerouslySetInnerHTML={{ __html: style.css }}\n    />\n  ))\n\n  const { rtl, locale } = getJourneyRTL(pageProps)\n\n  return {\n    ...initialProps,\n    emotionStyleTags,\n    rtl,\n    locale\n  }\n}\n","/workspaces/core/apps/journeys/pages/api/geolocation.ts",[],[],"/workspaces/core/apps/journeys/pages/api/revalidate.ts",[],[],"/workspaces/core/apps/journeys/pages/embed/[journeySlug].tsx",["201","202","203","204","205","206"],[],"import { ReactElement, useMemo } from 'react'\nimport { GetStaticPaths, GetStaticProps } from 'next'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport { transformer } from '@core/journeys/ui/transformer'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { TreeBlock } from '@core/journeys/ui/block'\nimport { EmbeddedPreview } from '../../src/components/EmbeddedPreview'\nimport { createApolloClient } from '../../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../../__generated__/GetJourneySlugs'\nimport i18nConfig from '../../next-i18next.config'\nimport { GET_JOURNEY, GET_JOURNEY_SLUGS } from '../[journeySlug]'\nimport { StepFields } from '../../__generated__/StepFields'\n\ninterface JourneyPageProps {\n  journey: Journey\n  locale: string\n  rtl: boolean\n}\n\nfunction JourneyPage({ journey, locale, rtl }: JourneyPageProps): ReactElement {\n  const blocks = useMemo(() => {\n    return transformer(journey.blocks ?? [])\n  }, [journey])\n\n  const theme =\n    blocks.length > 0\n      ? getStepTheme(blocks[0] as TreeBlock<StepFields>, journey)\n      : { themeName: journey.themeName, themeMode: journey.themeMode }\n  return (\n    <>\n      <NextSeo\n        title={journey.title}\n        nofollow\n        noindex\n        description={journey.description ?? undefined}\n        openGraph={{\n          type: 'website',\n          title: journey.seoTitle ?? journey.title,\n          url: `https://${\n            process.env.NEXT_PUBLIC_VERCEL_URL ?? 'your.nextstep.is'\n          }/embed/${journey.slug}`,\n          description:\n            journey.seoDescription ?? journey.description ?? undefined,\n          images:\n            journey.primaryImageBlock?.src != null\n              ? [\n                  {\n                    url: journey.primaryImageBlock.src,\n                    width: journey.primaryImageBlock.width,\n                    height: journey.primaryImageBlock.height,\n                    alt: journey.primaryImageBlock.alt,\n                    type: 'image/jpeg'\n                  }\n                ]\n              : []\n        }}\n        facebook={\n          process.env.NEXT_PUBLIC_FACEBOOK_APP_ID != null\n            ? {\n                appId: process.env.NEXT_PUBLIC_FACEBOOK_APP_ID\n              }\n            : undefined\n        }\n        twitter={{\n          site: '@YourNextStepIs',\n          cardType: 'summary_large_image'\n        }}\n      />\n      <style jsx global>{`\n        body {\n          background: transparent;\n        }\n      `}</style>\n      <JourneyProvider value={{ journey }}>\n        <ThemeProvider {...theme} rtl={rtl} locale={locale}>\n          {journey.blocks != null && (\n            <EmbeddedPreview blocks={transformer(journey.blocks)} />\n          )}\n        </ThemeProvider>\n      </JourneyProvider>\n    </>\n  )\n}\n\nexport const getStaticProps: GetStaticProps<JourneyPageProps> = async (\n  context\n) => {\n  const apolloClient = createApolloClient()\n  const { data } = await apolloClient.query<GetJourney>({\n    query: GET_JOURNEY,\n    variables: {\n      id: context.params?.journeySlug\n    }\n  })\n\n  if (data.journey === null) {\n    return {\n      props: {\n        ...(await serverSideTranslations(\n          context.locale ?? 'en',\n          ['apps-journeys', 'libs-journeys-ui'],\n          i18nConfig\n        ))\n      },\n      notFound: true,\n      revalidate: 60\n    }\n  } else {\n    const { rtl, locale } = getJourneyRTL(data.journey)\n\n    return {\n      props: {\n        ...(await serverSideTranslations(\n          context.locale ?? 'en',\n          ['apps-journeys', 'libs-journeys-ui'],\n          i18nConfig\n        )),\n        journey: data.journey,\n        locale,\n        rtl\n      },\n      revalidate: 60\n    }\n  }\n}\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n  const apolloClient = createApolloClient()\n  const { data } = await apolloClient.query<GetJourneySlugs>({\n    query: GET_JOURNEY_SLUGS\n  })\n\n  const paths = data.journeys.map(({ slug: journeySlug }) => ({\n    params: { journeySlug }\n  }))\n\n  return {\n    paths,\n    fallback: 'blocking'\n  }\n}\n\nexport default JourneyPage\n","/workspaces/core/apps/journeys/pages/embed/test/[journeySlug].tsx",[],[],"/workspaces/core/apps/journeys/pages/index.tsx",["207"],[],"import { ReactElement } from 'react'\nimport { styled } from '@mui/material/styles'\nimport Box from '@mui/material/Box'\nimport Container from '@mui/material/Container'\nimport Grid from '@mui/material/Grid'\nimport Image from 'next/image'\nimport Stack from '@mui/material/Stack'\nimport Fade from '@mui/material/Fade'\nimport Link from '@mui/material/Link'\nimport Typography from '@mui/material/Typography'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport NextLink from 'next/link'\nimport { GetStaticProps } from 'next'\nimport { gql } from '@apollo/client'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useTranslation } from 'react-i18next'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourneys,\n  GetJourneys_journeys as Journey\n} from '../__generated__/GetJourneys'\nimport { ThemeMode, ThemeName } from '../__generated__/globalTypes'\nimport i18nConfig from '../next-i18next.config'\nimport logo from '../public/logo.svg'\n\ninterface JourneysPageProps {\n  journeys: Journey[]\n}\n\nconst StyledIframe = styled('iframe')(({ theme }) => ({}))\n\nfunction JourneysPage({ journeys }: JourneysPageProps): ReactElement {\n  const { t } = useTranslation('journeys')\n\n  return (\n    <>\n      <NextSeo nofollow noindex />\n      <ThemeProvider themeName={ThemeName.base} themeMode={ThemeMode.light}>\n        <Container maxWidth=\"xxl\">\n          <Stack spacing={8} py={8}>\n            <Image src={logo} alt=\"Next Steps\" height={68} width={152} />\n            <Box>\n              <Grid container spacing={{ xs: 2, sm: 4 }}>\n                {journeys.map(({ id, slug }, index) => (\n                  <Grid item key={id} xs={12} sm={6} md={4} lg={3}>\n                    <Box sx={{ position: 'relative' }}>\n                      <Box\n                        sx={{\n                          position: 'absolute',\n                          top: 0,\n                          right: 0,\n                          bottom: 0,\n                          left: 0,\n                          zIndex: -1,\n                          overflow: 'hidden'\n                        }}\n                      >\n                        <Fade in timeout={(index + 1) * 1000}>\n                          <StyledIframe\n                            src={`/embed/${slug}`}\n                            sx={{\n                              width: 'calc(100% + 64px)',\n                              height: 664,\n                              border: 'none',\n                              margin: '-32px'\n                            }}\n                          />\n                        </Fade>\n                      </Box>\n                      <NextLink href={`/${slug}`} passHref>\n                        <Box\n                          component=\"a\"\n                          sx={{\n                            display: 'block',\n                            width: '100%',\n                            height: 600\n                          }}\n                        />\n                      </NextLink>\n                    </Box>\n                  </Grid>\n                ))}\n              </Grid>\n            </Box>\n            <Stack\n              direction={{ xs: 'column', sm: 'row' }}\n              spacing={2}\n              justifyContent=\"center\"\n              alignItems=\"center\"\n            >\n              <NextLink\n                href=\"https://www.cru.org/us/en/about/terms-of-use.html\"\n                passHref\n              >\n                <Link\n                  variant=\"body2\"\n                  underline=\"none\"\n                  target=\"_blank\"\n                  rel=\"noopener\"\n                  sx={{ p: 0 }}\n                >\n                  {t('Terms & Conditions')}\n                </Link>\n              </NextLink>\n              <NextLink\n                href=\"https://www.cru.org/us/en/about/privacy.html\"\n                passHref\n              >\n                <Link\n                  variant=\"body2\"\n                  underline=\"none\"\n                  target=\"_blank\"\n                  rel=\"noopener\"\n                  sx={{ p: 0 }}\n                >\n                  {t('Privacy Policy')}\n                </Link>\n              </NextLink>\n              <Typography variant=\"body2\">\n                {t('NextSteps Â© {{year}}', { year: new Date().getFullYear() })}\n              </Typography>\n            </Stack>\n          </Stack>\n        </Container>\n      </ThemeProvider>\n    </>\n  )\n}\n\nexport const getStaticProps: GetStaticProps<JourneysPageProps> = async (\n  context\n) => {\n  const apolloClient = createApolloClient()\n  const { data } = await apolloClient.query<GetJourneys>({\n    query: gql`\n      query GetJourneys {\n        journeys(where: { featured: true }) {\n          id\n          title\n          slug\n        }\n      }\n    `\n  })\n\n  if (data.journeys === null) {\n    return {\n      props: {\n        ...(await serverSideTranslations(\n          context.locale ?? 'en',\n          ['apps-journeys', 'libs-journeys-ui'],\n          i18nConfig\n        ))\n      },\n      notFound: true,\n      revalidate: 60\n    }\n  } else {\n    return {\n      props: {\n        ...(await serverSideTranslations(\n          context.locale ?? 'en',\n          ['apps-journeys', 'libs-journeys-ui'],\n          i18nConfig\n        )),\n        journeys: data.journeys\n      },\n      revalidate: 60\n    }\n  }\n}\n\nexport default JourneysPage\n","/workspaces/core/apps/journeys/src/components/Conductor/Conductor.spec.tsx",["208","209","210"],[],"import { useBreakpoints } from '@core/shared/ui/useBreakpoints'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport {\n  TreeBlock,\n  treeBlocksVar,\n  blockHistoryVar\n} from '@core/journeys/ui/block'\nimport { MockedProvider } from '@apollo/client/testing'\nimport { fireEvent, render, waitFor } from '@testing-library/react'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { SnackbarProvider } from 'notistack'\nimport {\n  GetJourney_journey as Journey,\n  GetJourney_journey_language as Language\n} from '../../../__generated__/GetJourney'\nimport {\n  ThemeName,\n  ThemeMode,\n  JourneyStatus\n} from '../../../__generated__/globalTypes'\nimport { basic } from '../../libs/testData/storyData'\nimport { JOURNEY_VIEW_EVENT_CREATE, JOURNEY_VISITOR_UPDATE } from './Conductor'\nimport { Conductor } from '.'\n\njest.mock('react-i18next', () => ({\n  __esModule: true,\n  useTranslation: () => {\n    return {\n      t: (str: string) => str\n    }\n  }\n}))\n\njest.mock('@core/shared/ui/useBreakpoints', () => ({\n  __esModule: true,\n  useBreakpoints: jest.fn()\n}))\n\njest.mock('uuid', () => ({\n  __esModule: true,\n  v4: jest.fn()\n}))\n\nconst mockUuidv4 = uuidv4 as jest.MockedFunction<typeof uuidv4>\n\njest.mock('react-gtm-module', () => ({\n  __esModule: true,\n  default: {\n    dataLayer: jest.fn()\n  }\n}))\n\nconst mockedDataLayer = TagManager.dataLayer as jest.MockedFunction<\n  typeof TagManager.dataLayer\n>\n\nglobal.fetch = jest.fn(\n  async () =>\n    await Promise.resolve({\n      json: async () =>\n        await Promise.resolve({\n          city: 'Blenheim',\n          region: 'Marlborough',\n          country: 'New Zealand'\n        })\n    })\n) as jest.Mock\n\njest.mock('@mui/material/useMediaQuery', () => ({\n  __esModule: true,\n  default: () => true\n}))\n\nbeforeEach(() => {\n  const useBreakpointsMock = useBreakpoints as jest.Mock\n  useBreakpointsMock.mockReturnValue({\n    xs: false,\n    sm: false,\n    md: false,\n    lg: false,\n    xl: true\n  })\n})\n\nconst rtlLanguage: Language = {\n  __typename: 'Language',\n  id: '529',\n  bcp47: 'ar',\n  iso3: 'arb',\n  name: [\n    {\n      __typename: 'Translation',\n      value: 'Arabic',\n      primary: false\n    }\n  ]\n}\n\nconst visitorUpdateMock = {\n  request: {\n    query: JOURNEY_VISITOR_UPDATE,\n    variables: {\n      input: {\n        countryCode: 'Blenheim, Marlborough, New Zealand',\n        referrer: ''\n      }\n    }\n  },\n  result: {\n    data: { visitorUpdateForCurrentUser: { id: 'uuid', __typename: 'Visitor' } }\n  }\n}\n\nconst defaultJourney: Journey = {\n  __typename: 'Journey',\n  id: 'journeyId',\n  themeName: ThemeName.base,\n  themeMode: ThemeMode.light,\n  title: 'my journey',\n  slug: 'my-journey',\n  language: {\n    __typename: 'Language',\n    id: '529',\n    bcp47: 'en',\n    iso3: 'eng',\n    name: [\n      {\n        __typename: 'Translation',\n        value: 'English',\n        primary: true\n      }\n    ]\n  },\n  description: 'my cool journey',\n  status: JourneyStatus.draft,\n  createdAt: '2021-11-19T12:34:56.647Z',\n  publishedAt: null,\n  blocks: [],\n  primaryImageBlock: null,\n  userJourneys: [],\n  template: null,\n  seoTitle: null,\n  seoDescription: null,\n  chatButtons: [],\n  host: null,\n  team: null\n}\n\ndescribe('Conductor', () => {\n  it('should create a journeyViewEvent', async () => {\n    mockUuidv4.mockReturnValueOnce('uuid')\n\n    const result = jest.fn(() => ({\n      data: {\n        journeyViewEventCreate: {\n          id: 'uuid',\n          __typename: 'JourneyViewEvent'\n        }\n      }\n    }))\n\n    render(\n      <MockedProvider\n        mocks={[\n          {\n            request: {\n              query: JOURNEY_VIEW_EVENT_CREATE,\n              variables: {\n                input: {\n                  id: 'uuid',\n                  journeyId: 'journeyId',\n                  label: 'my journey',\n                  value: '529'\n                }\n              }\n            },\n            result\n          },\n          visitorUpdateMock\n        ]}\n      >\n        <SnackbarProvider>\n          <JourneyProvider value={{ journey: defaultJourney }}>\n            <Conductor blocks={[]} />\n          </JourneyProvider>\n        </SnackbarProvider>\n      </MockedProvider>\n    )\n    await waitFor(() => expect(result).toHaveBeenCalled())\n  })\n\n  it('should add journeyViewEvent to dataLayer', async () => {\n    mockUuidv4.mockReturnValueOnce('uuid')\n\n    render(\n      <MockedProvider\n        mocks={[\n          {\n            request: {\n              query: JOURNEY_VIEW_EVENT_CREATE,\n              variables: {\n                input: {\n                  id: 'uuid',\n                  journeyId: 'journeyId',\n                  label: 'my journey',\n                  value: '529'\n                }\n              }\n            },\n            result: {\n              data: {\n                journeyViewEventCreate: {\n                  id: 'uuid',\n                  __typename: 'JourneyViewEvent'\n                }\n              }\n            }\n          },\n          visitorUpdateMock\n        ]}\n      >\n        <SnackbarProvider>\n          <JourneyProvider value={{ journey: defaultJourney }}>\n            <Conductor blocks={[]} />\n          </JourneyProvider>\n        </SnackbarProvider>\n      </MockedProvider>\n    )\n    await waitFor(() =>\n      expect(mockedDataLayer).toHaveBeenCalledWith({\n        dataLayer: {\n          event: 'journey_view',\n          journeyId: 'journeyId',\n          eventId: 'uuid',\n          journeyTitle: 'my journey'\n        }\n      })\n    )\n  })\n\n  it('should not throw error if no blocks', () => {\n    const blocks: TreeBlock[] = []\n    render(\n      <MockedProvider>\n        <SnackbarProvider>\n          <Conductor blocks={blocks} />\n        </SnackbarProvider>\n      </MockedProvider>\n    )\n    expect(treeBlocksVar()).toBe(blocks)\n    expect(blockHistoryVar()).toStrictEqual([])\n  })\n\n  describe('ltr journey', () => {\n    it('should navigate back and forth', () => {\n      const { getByTestId } = render(\n        <MockedProvider mocks={[]}>\n          <SnackbarProvider>\n            <JourneyProvider value={{ journey: defaultJourney }}>\n              <Conductor blocks={basic} />\n            </JourneyProvider>\n          </SnackbarProvider>\n        </MockedProvider>\n      )\n      const leftButton = getByTestId('conductorPrevButton')\n      const rightButton = getByTestId('conductorNextButton')\n\n      expect(treeBlocksVar()).toBe(basic)\n      expect(blockHistoryVar()[0].id).toBe('step1.id')\n      expect(rightButton).toBeVisible()\n      expect(rightButton).toHaveStyle('cursor: pointer;')\n\n      fireEvent.click(rightButton)\n\n      expect(blockHistoryVar()).toHaveLength(2)\n      expect(blockHistoryVar()[1].id).toBe('step2.id')\n      expect(leftButton).toBeVisible()\n\n      fireEvent.click(leftButton)\n\n      expect(blockHistoryVar()).toHaveLength(1)\n      expect(blockHistoryVar()[0].id).toBe('step1.id')\n    })\n  })\n\n  describe('rtl journey', () => {\n    it('should navigate back and forth', () => {\n      const { getByTestId } = render(\n        <MockedProvider mocks={[]}>\n          <SnackbarProvider>\n            <JourneyProvider\n              value={{ journey: { ...defaultJourney, language: rtlLanguage } }}\n            >\n              <Conductor blocks={basic} />\n            </JourneyProvider>\n          </SnackbarProvider>\n        </MockedProvider>\n      )\n      const leftButton = getByTestId('conductorNextButton')\n      const rightButton = getByTestId('conductorPrevButton')\n\n      expect(treeBlocksVar()).toBe(basic)\n      expect(blockHistoryVar()[0].id).toBe('step1.id')\n      expect(leftButton).toBeVisible()\n      expect(leftButton).toHaveStyle('cursor: pointer;')\n\n      fireEvent.click(leftButton)\n\n      expect(blockHistoryVar()).toHaveLength(2)\n      expect(blockHistoryVar()[1].id).toBe('step2.id')\n      expect(rightButton).toBeVisible()\n\n      fireEvent.click(rightButton)\n\n      expect(blockHistoryVar()).toHaveLength(1)\n      expect(blockHistoryVar()[0].id).toBe('step1.id')\n    })\n  })\n})\n","/workspaces/core/apps/journeys/src/components/Conductor/Conductor.stories.tsx",["211","212","213"],[],"import { ComponentProps } from 'react'\nimport { MockedProvider } from '@apollo/client/testing'\nimport { Story, Meta } from '@storybook/react'\nimport { screen, userEvent, waitFor } from '@storybook/testing-library'\nimport { expect } from '@storybook/jest'\nimport { SnackbarProvider } from 'notistack'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport {\n  JourneyFields as Journey,\n  JourneyFields_language as Language\n} from '@core/journeys/ui/JourneyProvider/__generated__/JourneyFields'\nimport { journeysConfig } from '../../libs/storybook'\nimport {\n  ThemeName,\n  ThemeMode,\n  JourneyStatus,\n  ChatPlatform\n} from '../../../__generated__/globalTypes'\nimport {\n  basic,\n  imageBlocks,\n  videoBlocks,\n  videoLoop\n} from '../../libs/testData/storyData'\nimport { Conductor } from '.'\n\nconst Demo = {\n  ...journeysConfig,\n  component: Conductor,\n  title: 'Journeys/Conductor',\n  parameters: {\n    ...journeysConfig.parameters,\n    layout: 'fullscreen'\n  }\n}\n\nconst rtlLanguage: Language = {\n  __typename: 'Language',\n  id: '529',\n  bcp47: 'ar',\n  iso3: 'arb',\n  name: [\n    {\n      __typename: 'Translation',\n      value: 'Arabic',\n      primary: false\n    }\n  ]\n}\n\nconst defaultJourney: Journey = {\n  __typename: 'Journey',\n  id: 'journeyId',\n  themeName: ThemeName.base,\n  themeMode: ThemeMode.light,\n  title: 'my journey',\n  slug: 'my-journey',\n  language: {\n    __typename: 'Language',\n    id: '529',\n    bcp47: 'en',\n    iso3: 'eng',\n    name: [\n      {\n        __typename: 'Translation',\n        value: 'English',\n        primary: true\n      }\n    ]\n  },\n  description: 'my cool journey',\n  status: JourneyStatus.draft,\n  createdAt: '2021-11-19T12:34:56.647Z',\n  publishedAt: null,\n  blocks: [],\n  primaryImageBlock: null,\n  userJourneys: [],\n  template: null,\n  seoTitle: null,\n  seoDescription: null,\n  chatButtons: [],\n  host: null,\n  team: null\n}\n\nconst Template: Story<\n  ComponentProps<typeof Conductor> & { journey?: Journey }\n> = ({ journey = defaultJourney, ...args }) => (\n  <MockedProvider mocks={[]}>\n    <JourneyProvider value={{ journey }}>\n      <SnackbarProvider>\n        <Conductor {...args} />\n      </SnackbarProvider>\n    </JourneyProvider>\n  </MockedProvider>\n)\n\nexport const Default = Template.bind({})\nDefault.args = {\n  blocks: basic\n}\n\nexport const WithContent = Template.bind({})\nWithContent.args = {\n  journey: {\n    ...defaultJourney,\n    chatButtons: [\n      {\n        __typename: 'ChatButton',\n        id: '1',\n        link: 'https://m.me/',\n        platform: ChatPlatform.tikTok\n      },\n      {\n        __typename: 'ChatButton',\n        id: '1',\n        link: 'https://m.me/',\n        platform: ChatPlatform.snapchat\n      }\n    ]\n  },\n  blocks: imageBlocks\n}\nWithContent.play = async () => {\n  const nextButton = screen.getAllByTestId('conductorNextButton')[0]\n  await waitFor(() => {\n    userEvent.click(nextButton)\n    expect(screen.getAllByTestId('prevNavContainer')[1]).toBeInTheDocument()\n  })\n}\n\nexport const WithVideo = Template.bind({})\nWithVideo.args = {\n  blocks: videoBlocks\n}\n\nexport const WithVideoLoop = Template.bind({})\nWithVideoLoop.args = {\n  blocks: videoLoop\n}\nWithVideoLoop.parameters = {\n  chromatic: { disableSnapshot: true }\n}\n\nexport const RTL = Template.bind({})\nRTL.args = {\n  journey: { ...defaultJourney, language: rtlLanguage },\n  blocks: basic\n}\nRTL.parameters = {\n  rtl: true\n}\n\nexport default Demo as Meta\n","/workspaces/core/apps/journeys/src/components/Conductor/Conductor.tsx",["214","215","216","217","218","219","220","221"],["222"],"import { ReactElement, useEffect, useState } from 'react'\nimport SwiperCore, { Pagination } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport Box from '@mui/material/Box'\nimport Fade from '@mui/material/Fade'\nimport Stack from '@mui/material/Stack'\nimport { useTheme, styled } from '@mui/material/styles'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { JourneyViewEventCreate } from '../../../__generated__/JourneyViewEventCreate'\nimport { StepFields } from '../../../__generated__/StepFields'\nimport { VisitorUpdateInput } from '../../../__generated__/globalTypes'\n\nimport 'swiper/swiper.min.css'\nimport 'swiper/components/pagination/pagination.min.css'\nimport { NavigationButton } from './NavigationButton'\n\nSwiperCore.use([Pagination])\n\nexport const JOURNEY_VIEW_EVENT_CREATE = gql`\n  mutation JourneyViewEventCreate($input: JourneyViewEventCreateInput!) {\n    journeyViewEventCreate(input: $input) {\n      id\n    }\n  }\n`\n\nconst StyledSwiperContainer = styled(Swiper)(({ theme }) => ({\n  background: theme.palette.grey[900],\n  height: 'inherit',\n  '.swiper-pagination': {\n    height: 16,\n    top: 16,\n    width: '84px !important'\n  },\n  '.swiper-pagination-bullet': {\n    background: theme.palette.common.white,\n    opacity: '60%'\n  },\n  '.swiper-pagination-bullet-active': {\n    opacity: '100%'\n  }\n}))\nexport const JOURNEY_VISITOR_UPDATE = gql`\n  mutation VisitorUpdateForCurrentUser($input: VisitorUpdateInput!) {\n    visitorUpdateForCurrentUser(input: $input) {\n      id\n    }\n  }\n`\ninterface ConductorProps {\n  blocks: TreeBlock[]\n}\n\nexport function Conductor({ blocks }: ConductorProps): ReactElement {\n  const {\n    setTreeBlocks,\n    setShowNavigation,\n    treeBlocks,\n    blockHistory,\n    showHeaderFooter\n  } = useBlocks()\n  const [swiper, setSwiper] = useState<SwiperCore>()\n  const theme = useTheme()\n  const { journey, admin } = useJourney()\n  const { locale, rtl } = getJourneyRTL(journey)\n  const activeBlock = blockHistory[\n    blockHistory.length - 1\n  ] as TreeBlock<StepFields>\n\n  const [journeyViewEventCreate] = useMutation<JourneyViewEventCreate>(\n    JOURNEY_VIEW_EVENT_CREATE\n  )\n\n  const [journeyVisitorUpdate] = useMutation<VisitorUpdateInput>(\n    JOURNEY_VISITOR_UPDATE\n  )\n\n  useEffect(() => {\n    if (!admin && journey != null) {\n      const id = uuidv4()\n      void journeyViewEventCreate({\n        variables: {\n          input: {\n            id,\n            journeyId: journey.id,\n            label: journey.title,\n            value: journey.language.id\n          }\n        }\n      }).then(() => {\n        void fetch('/api/geolocation').then((response) => {\n          void response\n            .json()\n            .then(\n              (data: { city?: string; country?: string; region?: string }) => {\n                const countryCodes: string[] = []\n                if (data.city != null) countryCodes.push(data.city)\n                if (data.region != null) countryCodes.push(data.region)\n                if (data.country != null) countryCodes.push(data.country)\n\n                if (countryCodes.length > 0 || document.referrer !== '') {\n                  void journeyVisitorUpdate({\n                    variables: {\n                      input: {\n                        countryCode:\n                          countryCodes.length > 0\n                            ? countryCodes.join(', ')\n                            : undefined,\n                        referrer: document.referrer\n                      }\n                    }\n                  })\n                }\n              }\n            )\n        })\n      })\n      TagManager.dataLayer({\n        dataLayer: {\n          event: 'journey_view',\n          journeyId: journey.id,\n          eventId: id,\n          journeyTitle: journey.title\n        }\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [journey])\n\n  useEffect(() => {\n    setTreeBlocks(blocks)\n  }, [setTreeBlocks, blocks])\n\n  // Update Swiper - navigate to activeBlock after NavigateBlockAction & going back to node of a branch\n  useEffect(() => {\n    if (\n      swiper != null &&\n      blockHistory.length > 0 &&\n      blockHistory[blockHistory.length - 1] != null\n    ) {\n      const activeIndex = blockHistory[blockHistory.length - 1].parentOrder\n      if (activeIndex != null && swiper.activeIndex !== activeIndex) {\n        const allowFurtherOnSlideChange = false\n        swiper.slideTo(activeIndex, 0, allowFurtherOnSlideChange)\n      }\n    }\n  }, [swiper, blockHistory])\n\n  return (\n    <Div100vh style={{ overflow: 'hidden' }}>\n      <Stack\n        sx={{\n          justifyContent: 'center',\n          height: '100%',\n          background: theme.palette.grey[900]\n        }}\n      >\n        <Box sx={{ height: { xs: '100%', lg: 'unset' } }}>\n          <StyledSwiperContainer\n            dir={!rtl ? 'ltr' : 'rtl'}\n            pagination={{ dynamicBullets: true }}\n            slidesPerView=\"auto\"\n            centeredSlides\n            centeredSlidesBounds\n            resizeObserver\n            onSwiper={(swiper) => setSwiper(swiper)}\n            allowTouchMove={false}\n            sx={{\n              '.swiper-pagination': {\n                display: showHeaderFooter ? 'block' : 'none'\n              }\n            }}\n          >\n            {treeBlocks.map((block) => {\n              const theme = getStepTheme(\n                block as TreeBlock<StepFields>,\n                journey\n              )\n              return (\n                <SwiperSlide\n                  key={block.id}\n                  onClick={() => setShowNavigation(true)}\n                >\n                  <ThemeProvider {...theme} locale={locale} rtl={rtl} nested>\n                    <Fade\n                      in={activeBlock?.id === block.id}\n                      mountOnEnter\n                      unmountOnExit\n                    >\n                      <Stack\n                        justifyContent=\"center\"\n                        sx={{\n                          maxHeight: { xs: '100vh', lg: 'calc(100vh - 80px)' },\n                          height: {\n                            xs: 'inherit',\n                            lg: 'calc(54.25vw + 102px)'\n                          },\n                          px: { lg: 6 }\n                        }}\n                      >\n                        {showHeaderFooter && <StepHeader />}\n                        <BlockRenderer block={block} />\n                        <StepFooter\n                          sx={{\n                            visibility: showHeaderFooter ? 'visible' : 'hidden'\n                          }}\n                        />\n                      </Stack>\n                    </Fade>\n                  </ThemeProvider>\n                </SwiperSlide>\n              )\n            })}\n            <NavigationButton\n              variant={rtl ? 'next' : 'prev'}\n              alignment=\"left\"\n            />\n            <NavigationButton\n              variant={rtl ? 'prev' : 'next'}\n              alignment=\"right\"\n            />\n          </StyledSwiperContainer>\n        </Box>\n      </Stack>\n    </Div100vh>\n  )\n}\n","/workspaces/core/apps/journeys/src/components/Conductor/NavigationButton/NavigationButton.spec.tsx",["223","224"],[],"import { treeBlocksVar, blockHistoryVar } from '@core/journeys/ui/block'\nimport { showNavigationVar } from '@core/journeys/ui/block/block'\nimport { fireEvent, render, waitFor } from '@testing-library/react'\n\nimport { NavigationButton } from './NavigationButton'\n\nconst step1 = {\n  id: 'step1.id',\n  __typename: 'StepBlock' as const,\n  parentBlockId: null,\n  parentOrder: 0,\n  locked: false,\n  nextBlockId: 'step3.id',\n  children: []\n}\nconst step2 = {\n  id: 'step2.id',\n  __typename: 'StepBlock' as const,\n  parentBlockId: null,\n  parentOrder: 1,\n  locked: true,\n  nextBlockId: null,\n  children: []\n}\nconst step3 = {\n  id: 'step3.id',\n  __typename: 'StepBlock' as const,\n  parentBlockId: null,\n  parentOrder: 2,\n  locked: false,\n  nextBlockId: null,\n  children: []\n}\n\ndescribe('NavigationButton', () => {\n  it('should show navigation arrows on mouse over', async () => {\n    showNavigationVar(false)\n    treeBlocksVar([step1, step2, step3])\n    blockHistoryVar([step1])\n\n    const { getByTestId } = render(\n      <NavigationButton variant=\"next\" alignment=\"right\" />\n    )\n    expect(getByTestId('conductorNextButton')).not.toBeVisible()\n\n    fireEvent.mouseOver(getByTestId('conductorNextButton'))\n\n    await waitFor(() => {\n      expect(getByTestId('conductorNextButton')).toBeVisible()\n    })\n  })\n\n  it('should hide navigation arrows after 3 seconds', async () => {\n    showNavigationVar(true)\n    treeBlocksVar([step1, step2, step3])\n    blockHistoryVar([step1])\n\n    const { getByTestId } = render(\n      <NavigationButton variant=\"next\" alignment=\"right\" />\n    )\n    expect(getByTestId('conductorNextButton')).toBeVisible()\n\n    await waitFor(\n      () => {\n        expect(getByTestId('conductorNextButton')).not.toBeVisible()\n      },\n      { timeout: 3000 }\n    )\n  })\n\n  describe('ltr', () => {\n    it('should call nextActiveBlock on next button click', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1])\n\n      const { getByTestId } = render(\n        <NavigationButton variant=\"next\" alignment=\"right\" />\n      )\n      fireEvent.click(getByTestId('conductorNextButton'))\n\n      expect(blockHistoryVar()[1].id).toEqual('step3.id')\n    })\n\n    it('should call prevActiveBlock on prev button click', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1, step2])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"prev\" alignment=\"left\" />\n      )\n      expect(blockHistoryVar()[1].id).toEqual('step2.id')\n\n      fireEvent.click(getByTestId('conductorPrevButton'))\n\n      expect(blockHistoryVar()[0].id).toEqual('step1.id')\n    })\n\n    it('should hide left button if on first card', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"prev\" alignment=\"left\" />\n      )\n\n      expect(getByTestId('conductorPrevButton')).not.toBeVisible()\n    })\n\n    it('should hide right button if next step is locked', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1, step2])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"next\" alignment=\"right\" />\n      )\n      expect(getByTestId('conductorNextButton')).not.toBeVisible()\n    })\n\n    it('should hide right button if on last card', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1, step2, step3])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"next\" alignment=\"right\" />\n      )\n\n      expect(getByTestId('conductorNextButton')).not.toBeVisible()\n    })\n  })\n\n  describe('rtl', () => {\n    it('should call nextActiveBlock on next button click', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1])\n\n      const { getByTestId } = render(\n        <NavigationButton variant=\"next\" alignment=\"left\" />\n      )\n      fireEvent.click(getByTestId('conductorNextButton'))\n\n      expect(blockHistoryVar()[1].id).toEqual('step3.id')\n    })\n\n    it('should call prevActiveBlock on prev button click', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1, step2])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"prev\" alignment=\"right\" />\n      )\n      expect(blockHistoryVar()[1].id).toEqual('step2.id')\n\n      fireEvent.click(getByTestId('conductorPrevButton'))\n\n      expect(blockHistoryVar()[0].id).toEqual('step1.id')\n    })\n\n    it('should hide right button if on first card', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"prev\" alignment=\"right\" />\n      )\n\n      expect(getByTestId('conductorPrevButton')).not.toBeVisible()\n    })\n\n    it('should hide left button if next step is locked', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1, step2])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"next\" alignment=\"left\" />\n      )\n      expect(getByTestId('conductorNextButton')).not.toBeVisible()\n    })\n\n    it('should hide left button if on last card', () => {\n      treeBlocksVar([step1, step2, step3])\n      blockHistoryVar([step1, step2, step3])\n      const { getByTestId } = render(\n        <NavigationButton variant=\"next\" alignment=\"left\" />\n      )\n\n      expect(getByTestId('conductorNextButton')).not.toBeVisible()\n    })\n  })\n})\n","/workspaces/core/apps/journeys/src/components/Conductor/NavigationButton/NavigationButton.tsx",["225"],[],"import { ReactElement, useEffect } from 'react'\nimport Box from '@mui/material/Box'\nimport Fade from '@mui/material/Fade'\nimport IconButton from '@mui/material/IconButton'\nimport { styled } from '@mui/material/styles'\nimport last from 'lodash/last'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport ChevronLeftIcon from '@core/shared/ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@core/shared/ui/icons/ChevronRight'\nimport { StepFields } from '../../../../__generated__/StepFields'\n\nconst LeftNavigationContainer = styled(Box)`\n  /* @noflip */\n  left: 0;\n`\nconst RightNavigationContainer = styled(Box)`\n  /* @noflip */\n  right: 0;\n`\n\ninterface NavigationButtonProps {\n  variant: 'prev' | 'next'\n  alignment: 'left' | 'right'\n}\n\nexport function NavigationButton({\n  variant,\n  alignment\n}: NavigationButtonProps): ReactElement {\n  const {\n    setShowNavigation,\n    treeBlocks,\n    blockHistory,\n    showNavigation,\n    nextActiveBlock,\n    prevActiveBlock\n  } = useBlocks()\n  const activeBlock = blockHistory[\n    blockHistory.length - 1\n  ] as TreeBlock<StepFields>\n\n  const onFirstStep = activeBlock === treeBlocks[0]\n  const onLastStep = activeBlock === last(treeBlocks)\n  const canNavigate = variant === 'prev' ? !onFirstStep : !onLastStep\n  const disabled = variant === 'next' && activeBlock?.locked\n\n  // Handle fade navigation after 3 seconds inactive\n  useEffect(() => {\n    const isVideoOnlyBlock =\n      activeBlock?.children.length > 0 &&\n      activeBlock?.children[0].children.length === 1 &&\n      activeBlock?.children[0].children[0].__typename === 'VideoBlock'\n\n    if (showNavigation && !isVideoOnlyBlock) {\n      setTimeout(() => {\n        setShowNavigation(false)\n      }, 3000)\n    }\n  }, [showNavigation, setShowNavigation, activeBlock])\n\n  function handleNav(direction: 'next' | 'prev'): void {\n    if (direction === 'next') {\n      nextActiveBlock()\n    } else {\n      prevActiveBlock()\n    }\n  }\n\n  // Issue using https://mui.com/material-ui/guides/right-to-left/#emotion-amp-styled-components for justifyContent\n  const alignSx =\n    variant === 'prev'\n      ? { justifyContent: 'flex-start' }\n      : { justifyContent: 'flex-end' }\n\n  const NavigationContainer =\n    alignment === 'left' ? LeftNavigationContainer : RightNavigationContainer\n\n  return (\n    <NavigationContainer\n      data-testid={`${variant}NavContainer`}\n      onMouseOver={() => setShowNavigation(true)}\n      sx={{\n        ...alignSx,\n        position: 'absolute',\n        // StepFooter heights\n        bottom: { xs: '170px', sm: '133px', lg: '60.5px' },\n        zIndex: 2,\n        display: 'flex',\n        width: { xs: 82, lg: 114 },\n        height: {\n          xs: 'calc(100vh - 275px)',\n          sm: 'calc(100vh - 238px)',\n          lg: 'calc(100% - 105px)'\n        },\n        alignItems: 'center',\n        pointerEvents: { xs: 'none', lg: 'all' }\n      }}\n    >\n      <Fade\n        in={canNavigate && showNavigation && !disabled}\n        timeout={{ appear: 300, exit: 1000 }}\n      >\n        <IconButton\n          data-testid={`conductor${variant\n            .charAt(0)\n            .toUpperCase()}${variant.slice(1)}Button`}\n          size=\"small\"\n          onClick={() => handleNav(variant)}\n          disableRipple\n          sx={{\n            pointerEvents: 'all',\n            mx: { xs: 2, lg: 8 },\n            p: 2,\n            color: (theme) => theme.palette.common.white,\n            backgroundColor: (theme) => `${theme.palette.grey[700]}33`,\n            '&:hover': {\n              color: (theme) => theme.palette.common.white,\n              backgroundColor: (theme) => `${theme.palette.grey[700]}4d`\n            }\n          }}\n        >\n          {alignment === 'left' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n        </IconButton>\n      </Fade>\n    </NavigationContainer>\n  )\n}\n","/workspaces/core/apps/journeys/src/components/Conductor/NavigationButton/index.ts",[],[],"/workspaces/core/apps/journeys/src/components/Conductor/index.ts",[],[],"/workspaces/core/apps/journeys/src/components/EmbeddedPreview/ButtonWrapper/ButtonWrapper.tsx",["226","227"],[],"import { ReactElement } from 'react'\nimport { Icon } from '@core/journeys/ui/Icon'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport MuiButton from '@mui/material/Button'\nimport Box from '@mui/material/Box'\n\nimport { IconFields } from '../../../../__generated__/IconFields'\nimport { ButtonVariant } from '../../../../__generated__/globalTypes'\nimport { GetJourney_journey_blocks_ButtonBlock as ButtonBlock } from '../../../../__generated__/GetJourney'\n\nexport function ButtonWrapper({\n  block\n}: {\n  block: TreeBlock<ButtonBlock>\n}): ReactElement {\n  const startIcon = block.children.find(\n    (child) => child.id === block.startIconId\n  ) as TreeBlock<IconFields> | undefined\n\n  const endIcon = block.children.find(\n    (child) => child.id === block.endIconId\n  ) as TreeBlock<IconFields> | undefined\n\n  return (\n    // Margin added via Box so it's ignored by admin selection border outline\n    <Box\n      sx={{\n        mb: 4,\n        mt:\n          block.size === 'large'\n            ? 6\n            : block.size === 'medium'\n            ? 5\n            : block.size === 'small'\n            ? 4\n            : 5\n      }}\n    >\n      <MuiButton\n        variant={block.buttonVariant ?? ButtonVariant.contained}\n        color={block.buttonColor ?? undefined}\n        size={block.size ?? undefined}\n        startIcon={startIcon != null ? <Icon {...startIcon} /> : undefined}\n        endIcon={endIcon != null ? <Icon {...endIcon} /> : undefined}\n        fullWidth\n        disableRipple\n        sx={{\n          '&.MuiButtonBase-root': { pointerEvents: 'none' }\n        }}\n      >\n        {block.label}\n      </MuiButton>\n    </Box>\n  )\n}\n","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/EmbeddedPreview.spec.tsx",["228"],[],"import { MockedProvider } from '@apollo/client/testing'\nimport { render, waitFor } from '@testing-library/react'\nimport { SnackbarProvider } from 'notistack'\nimport { STEP_VIEW_EVENT_CREATE } from '@core/journeys/ui/Step/Step'\nimport { v4 as uuidv4 } from 'uuid'\nimport { GetJourney_journey_blocks_TypographyBlock as TypographyBlock } from '../../../__generated__/GetJourney'\nimport { basic } from '../../libs/testData/storyData'\nimport { EmbeddedPreview } from './EmbeddedPreview'\n\njest.mock('@mui/material/useMediaQuery', () => ({\n  __esModule: true,\n  default: () => true\n}))\n\njest.mock('uuid', () => ({\n  __esModule: true,\n  v4: jest.fn()\n}))\n\nconst mockUuidv4 = uuidv4 as jest.MockedFunction<typeof uuidv4>\n\ndescribe('EmbeddedPreview', () => {\n  it('renders first block', async () => {\n    mockUuidv4.mockReturnValueOnce('uuid')\n    const { getByText } = render(\n      <MockedProvider\n        mocks={[\n          {\n            request: {\n              query: STEP_VIEW_EVENT_CREATE,\n              variables: {\n                input: {\n                  id: 'uuid',\n                  blockId: 'step1.id',\n                  value: 'Step 1'\n                }\n              }\n            },\n            result: {\n              data: {\n                stepViewEventCreate: {\n                  id: 'uuid',\n                  __typename: 'StepViewEvent'\n                }\n              }\n            }\n          }\n        ]}\n      >\n        <SnackbarProvider>\n          <EmbeddedPreview blocks={basic} />\n        </SnackbarProvider>\n      </MockedProvider>\n    )\n    await waitFor(() => {\n      expect(\n        getByText((basic[0].children[0].children[0] as TypographyBlock).content)\n      ).toBeInTheDocument()\n    })\n  })\n})\n","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/EmbeddedPreview.stories.tsx",["229","230"],[],"import { ComponentProps, ReactElement } from 'react'\nimport { MockedProvider } from '@apollo/client/testing'\nimport { Story, Meta } from '@storybook/react'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { JourneyFields as Journey } from '@core/journeys/ui/JourneyProvider/__generated__/JourneyFields'\nimport { SnackbarProvider } from 'notistack'\nimport { journeysConfig } from '../../libs/storybook'\nimport {\n  basic,\n  imageBlocks,\n  videoBlocks,\n  videoBlocksNoPoster,\n  videoBlocksNoVideo,\n  videoLoop\n} from '../../libs/testData/storyData'\n\nimport { ThemeMode, ThemeName } from '../../../__generated__/globalTypes'\nimport { EmbeddedPreview } from './EmbeddedPreview'\n\nconst Demo = {\n  ...journeysConfig,\n  component: EmbeddedPreview,\n  title: 'Journeys/EmbeddedPreview',\n  parameters: {\n    ...journeysConfig.parameters,\n    layout: 'fullscreen'\n  }\n}\n\nconst Template: Story<ComponentProps<typeof EmbeddedPreview>> = ({\n  ...args\n}): ReactElement => (\n  <MockedProvider>\n    <SnackbarProvider>\n      <JourneyProvider\n        value={{\n          journey: {\n            id: 'journeyId',\n            themeMode: ThemeMode.light,\n            themeName: ThemeName.base,\n            seoTitle: 'my journey',\n            language: {\n              __typename: 'Language',\n              id: '529',\n              bcp47: 'en',\n              iso3: 'eng',\n              name: [\n                {\n                  __typename: 'Translation',\n                  value: 'English',\n                  primary: true\n                }\n              ]\n            }\n          } as unknown as Journey\n        }}\n      >\n        <EmbeddedPreview {...args} />\n      </JourneyProvider>\n    </SnackbarProvider>\n  </MockedProvider>\n)\n\nexport const Default = Template.bind({})\nDefault.args = {\n  blocks: basic\n}\n\nexport const WithContent = Template.bind({})\nWithContent.args = {\n  blocks: imageBlocks\n}\n\nexport const WithVideo = Template.bind({})\nWithVideo.args = {\n  blocks: videoBlocks\n}\n\nexport const WithVideoNoPoster = Template.bind({})\nWithVideoNoPoster.args = {\n  blocks: videoBlocksNoPoster\n}\n\nexport const WithVideoNoVideo = Template.bind({})\nWithVideoNoVideo.args = {\n  blocks: videoBlocksNoVideo\n}\n\nexport const WithVideoLoop = Template.bind({})\nWithVideoLoop.args = {\n  blocks: videoLoop\n}\nWithVideoLoop.parameters = {\n  chromatic: { disableSnapshot: true }\n}\n\nexport default Demo as Meta\n","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/EmbeddedPreview.tsx",["231","232","233"],[],"import { ReactElement, useCallback, useEffect, useRef, useState } from 'react'\n\nimport Box from '@mui/material/Box'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { useRouter } from 'next/router'\nimport IconButton from '@mui/material/IconButton'\nimport Close from '@mui/icons-material/Close'\n\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\nimport { Conductor } from '../Conductor'\n\nimport { ButtonWrapper } from './ButtonWrapper/ButtonWrapper'\nimport { RadioOptionWrapper } from './RadioOptionWrapper/RadioOptionWrapper'\nimport { VideoWrapper } from './VideoWrapper/VideoWrapper'\n\ninterface EmbeddedPreviewProps {\n  blocks: TreeBlock[]\n}\n\nexport function EmbeddedPreview({\n  blocks\n}: EmbeddedPreviewProps): ReactElement {\n  const maximizableElement = useRef(null)\n  const [allowFullWindow, setAllowFullWindow] = useState(true)\n  // Use full container / fullWindow mode over fullScreen to avoid video playback issues\n  const [isFullWindow, setIsFullWindow] = useState(false)\n\n  const maximizeView = useCallback(\n    (value: boolean) => {\n      setIsFullWindow(value)\n      window.parent.postMessage(value, '*')\n    },\n    [setIsFullWindow]\n  )\n\n  // use router internally on this component as it does not function properly when passed as prop\n  const router = useRouter()\n  const once = useRef(false)\n\n  const handleClick = useCallback((): void => {\n    if (allowFullWindow) maximizeView(true)\n  }, [allowFullWindow, maximizeView])\n\n  useEffect(() => {\n    if (!once.current) {\n      if (router?.query?.preview === 'true') {\n        setAllowFullWindow(false)\n        once.current = true\n      }\n      if (router?.query?.autoexpand === 'true') {\n        handleClick()\n        once.current = true\n      }\n    }\n  }, [setAllowFullWindow, handleClick, router?.query])\n\n  const ClickableCard = (): ReactElement => (\n    <Box\n      sx={{\n        p: 8,\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        cursor: allowFullWindow ? 'pointer' : 'default',\n        zindex: 10,\n        height: '100%'\n      }}\n      onClick={() => handleClick()}\n    >\n      <Box\n        sx={{\n          mx: 'auto',\n          mb: 0,\n          height: 6.5,\n          width: '82.5%',\n          backgroundColor: '#AAACBB',\n          borderRadius: '16px 16px 0 0',\n          opacity: 0.3\n        }}\n      />\n      <Box\n        sx={{\n          mx: 'auto',\n          mb: 0,\n          height: 6.5,\n          width: '90%',\n          backgroundColor: '#AAACBB',\n          borderRadius: '16px 16px 0 0',\n          opacity: 0.6\n        }}\n      />\n      <Box\n        sx={{\n          height: '100%',\n          width: '100%',\n          borderRadius: '16px',\n          overflow: 'hidden',\n          position: 'relative'\n        }}\n      >\n        <BlockRenderer\n          data-testid=\"embedded-preview-block-renderer\"\n          block={blocks?.[0]}\n          wrappers={{\n            ButtonWrapper,\n            RadioOptionWrapper,\n            VideoWrapper\n          }}\n        />\n        <StepFooter />\n      </Box>\n    </Box>\n  )\n\n  return (\n    <>\n      <style jsx global>{`\n        body {\n          background: transparent;\n        }\n      `}</style>\n      <style jsx>{`\n        .MuiPaper-elevation {\n          box-shadow: none !important;\n        }\n      `}</style>\n      <Div100vh data-testid=\"embedded-preview\">\n        {!isFullWindow && <ClickableCard />}\n        <Box\n          id=\"embed-fullscreen-container\"\n          ref={maximizableElement}\n          sx={{\n            backgroundColor: 'background.default',\n            overflow: 'hidden'\n          }}\n        >\n          {isFullWindow && (\n            <>\n              <IconButton\n                sx={{\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  zIndex: 1000,\n                  color: 'text.primary'\n                }}\n                onClick={() => {\n                  maximizeView(false)\n                }}\n              >\n                <Close />\n              </IconButton>\n              <Conductor blocks={blocks} />\n            </>\n          )}\n        </Box>\n      </Div100vh>\n    </>\n  )\n}\n","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/RadioOptionWrapper/RadioOptionWrapper.tsx",["234"],[],"import { ReactElement } from 'react'\nimport { styled } from '@mui/material/styles'\nimport MuiButton, { ButtonProps } from '@mui/material/Button'\nimport RadioButtonUncheckedIcon from '@mui/icons-material/RadioButtonUnchecked'\nimport type { TreeBlock } from '@core/journeys/ui/block'\n\nimport { GetJourney_journey_blocks_RadioOptionBlock as RadioOptionBlock } from '../../../../__generated__/GetJourney'\n\nexport const StyledRadioOption = styled(MuiButton)<ButtonProps>(\n  ({ theme }) => ({\n    fontFamily: theme.typography.body2.fontFamily,\n    fontSize: theme.typography.body2.fontSize,\n    fontWeight: 600,\n    lineHeight: theme.typography.body2.lineHeight,\n    textAlign: 'start',\n    justifyContent: 'flex-start',\n    borderRadius: 'inherit',\n    padding: '14px 10px 14px 14px'\n  })\n)\n\nexport function RadioOptionWrapper({\n  block\n}: {\n  block: TreeBlock<RadioOptionBlock>\n}): ReactElement {\n  return (\n    <StyledRadioOption\n      variant=\"contained\"\n      fullWidth\n      disableRipple\n      startIcon={\n        <RadioButtonUncheckedIcon data-testid=\"RadioOptionRadioButtonUncheckedIcon\" />\n      }\n      sx={{\n        '&.MuiButtonBase-root': { pointerEvents: 'none' }\n      }}\n    >\n      {block.label}\n    </StyledRadioOption>\n  )\n}\n","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/VideoWrapper/VideoWrapper.spec.tsx",["235"],[],"import { render } from '@testing-library/react'\nimport { TreeBlock } from '@core/journeys/ui/block'\nimport { VideoFields as VideoBlock } from '../../../../__generated__/VideoFields'\nimport { VideoBlockSource } from '../../../../__generated__/globalTypes'\nimport { ImageFields as ImageBlock } from '../../../../__generated__/ImageFields'\nimport { VideoWrapper } from './VideoWrapper'\n\ndescribe('VideoWrapper', () => {\n  const imageBlock: TreeBlock<ImageBlock> = {\n    id: 'posterBlockId',\n    __typename: 'ImageBlock',\n    src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n    alt: 'random image from unsplash',\n    width: 1600,\n    height: 1067,\n    blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n    parentBlockId: 'video0.id',\n    parentOrder: 0,\n    children: []\n  }\n\n  const videoBlock: TreeBlock<VideoBlock> = {\n    __typename: 'VideoBlock',\n    id: 'video0.id',\n    parentBlockId: '',\n    parentOrder: 0,\n    autoplay: true,\n    startAt: 10,\n    endAt: null,\n    muted: null,\n    posterBlockId: 'posterBlockId',\n    fullsize: null,\n    action: null,\n    videoId: '2_0-FallingPlates',\n    videoVariantLanguageId: '529',\n    source: VideoBlockSource.internal,\n    title: null,\n    description: null,\n    duration: null,\n    image: null,\n    objectFit: null,\n    video: {\n      __typename: 'Video',\n      id: '2_0-FallingPlates',\n      title: [\n        {\n          __typename: 'Translation',\n          value: 'FallingPlates'\n        }\n      ],\n      image:\n        'https://d1wl257kev7hsz.cloudfront.net/cinematics/2_0-FallingPlates.mobileCinematicHigh.jpg',\n      variant: {\n        __typename: 'VideoVariant',\n        id: '2_0-FallingPlates-529',\n        hls: 'https://arc.gt/hls/2_0-FallingPlates/529'\n      }\n    },\n    children: []\n  }\n\n  it('should render the posterBlock image', () => {\n    const { getByAltText } = render(\n      <VideoWrapper block={{ ...videoBlock, children: [imageBlock] }} />\n    )\n    expect(getByAltText('random image from unsplash')).toBeInTheDocument()\n  })\n\n  it('should render internal video', async () => {\n    const { getByTestId } = render(<VideoWrapper block={videoBlock} />)\n    const sourceTag =\n      getByTestId('video-video0.id').querySelector('.vjs-tech source')\n    expect(sourceTag?.getAttribute('src')).toEqual(\n      'https://arc.gt/hls/2_0-FallingPlates/529'\n    )\n    expect(sourceTag?.getAttribute('type')).toEqual('application/x-mpegURL')\n  })\n\n  it('should render cloudflare video', () => {\n    const { getByTestId } = render(\n      <VideoWrapper\n        block={{\n          ...videoBlock,\n          source: VideoBlockSource.cloudflare,\n          videoId: 'videoId'\n        }}\n      />\n    )\n    const sourceTag =\n      getByTestId('video-video0.id').querySelector('.vjs-tech source')\n    expect(sourceTag?.getAttribute('src')).toEqual(\n      'https://customer-.cloudflarestream.com/videoId/manifest/video.m3u8'\n    )\n    expect(sourceTag?.getAttribute('type')).toEqual('application/x-mpegURL')\n  })\n\n  it('should render youtube video', () => {\n    const { getByTestId } = render(\n      <VideoWrapper\n        block={{\n          ...videoBlock,\n          videoId: 'F7k5pqBVinA',\n          source: VideoBlockSource.youTube\n        }}\n      />\n    )\n    const sourceTag =\n      getByTestId('video-video0.id').querySelector('.vjs-tech source')\n    expect(sourceTag?.getAttribute('src')).toEqual(\n      'https://www.youtube.com/embed/F7k5pqBVinA?start=10&end=0'\n    )\n    expect(sourceTag?.getAttribute('type')).toEqual('video/youtube')\n  })\n\n  it('should render placeholder icon if VideoId is null and there is no posterBlock', () => {\n    const { getByTestId } = render(\n      <VideoWrapper block={{ ...videoBlock, videoId: null, children: [] }} />\n    )\n    expect(getByTestId('VideocamRoundedIcon')).toHaveClass('MuiSvgIcon-root')\n  })\n})\n","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/VideoWrapper/VideoWrapper.tsx",["236","237","238"],[],"import { ReactElement, useRef, useMemo, useEffect } from 'react'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport Box from '@mui/material/Box'\nimport Paper from '@mui/material/Paper'\nimport { useTheme } from '@mui/material/styles'\nimport { blurImage } from '@core/journeys/ui/blurImage'\nimport VideocamRounded from '@mui/icons-material/VideocamRounded'\nimport { NextImage } from '@core/shared/ui/NextImage'\nimport videojs from 'video.js'\nimport Player from 'video.js/dist/types/player'\n\nimport {\n  GetJourney_journey_blocks_VideoBlock as VideoBlock,\n  GetJourney_journey_blocks_ImageBlock as ImageBlock\n} from '../../../../__generated__/GetJourney'\nimport { VideoBlockSource } from '../../../../__generated__/globalTypes'\n\nconst VIDEO_BACKGROUND_COLOR = '#000'\nconst VIDEO_FOREGROUND_COLOR = '#FFF'\n\nexport function VideoWrapper({\n  block\n}: {\n  block: TreeBlock<VideoBlock>\n}): ReactElement {\n  const theme = useTheme()\n  const videoRef = useRef<HTMLVideoElement>(null)\n  const playerRef = useRef<Player>()\n\n  const posterBlock = block.children.find(\n    (child) =>\n      child.id === block.posterBlockId && child.__typename === 'ImageBlock'\n  ) as TreeBlock<ImageBlock> | undefined\n\n  const blurBackground = useMemo(() => {\n    return posterBlock != null\n      ? blurImage(posterBlock.blurhash, theme.palette.background.paper)\n      : undefined\n  }, [posterBlock, theme])\n\n  useEffect(() => {\n    if (videoRef.current != null) {\n      playerRef.current = videojs(videoRef.current, {\n        autoplay: false,\n        controls: false,\n        responsive: true,\n        muted: true,\n\n        // VideoJS blur background persists so we cover video when using png poster on non-autoplay videos\n        poster: blurBackground\n      })\n      playerRef.current.on('ready', () => {\n        playerRef.current?.currentTime(block.startAt ?? 0)\n      })\n    }\n  }, [block, blurBackground])\n\n  return (\n    <Box\n      data-testid={`video-${block.id}`}\n      sx={{\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n        minHeight: 'inherit',\n        backgroundColor: VIDEO_BACKGROUND_COLOR,\n        overflow: 'hidden',\n        m: 0,\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        '> .video-js': {\n          width: '100%',\n          display: 'flex',\n          alignSelf: 'center',\n          height: '100%',\n          minHeight: 'inherit',\n          '> .vjs-tech': {\n            objectFit: 'cover'\n          },\n          '> .vjs-loading-spinner': {\n            zIndex: 1,\n            ...(block.source === VideoBlockSource.youTube && {\n              display: 'none'\n            })\n          },\n          '> .vjs-big-play-button': {\n            zIndex: 1\n          },\n          '> .vjs-poster': {\n            backgroundColor: VIDEO_BACKGROUND_COLOR,\n            backgroundSize: 'cover'\n          }\n        },\n        '> .MuiIconButton-root': {\n          color: VIDEO_FOREGROUND_COLOR,\n          position: 'absolute',\n          bottom: 12,\n          zIndex: 1,\n          '&:hover': {\n            color: VIDEO_FOREGROUND_COLOR\n          }\n        }\n      }}\n    >\n      {/* If poster, show  poster. If not show paused video, if no video show placeholder */}\n      {posterBlock?.src != null ? (\n        <NextImage\n          src={posterBlock.src}\n          alt={posterBlock.alt}\n          placeholder={blurBackground != null ? 'blur' : 'empty'}\n          blurDataURL={blurBackground ?? posterBlock.src}\n          layout=\"fill\"\n          objectFit=\"cover\"\n        />\n      ) : block.videoId != null ? (\n        <>\n          <video\n            ref={videoRef}\n            className=\"video-js vjs-big-play-centered\"\n            playsInline\n          >\n            {block.source === VideoBlockSource.cloudflare &&\n              block.videoId != null && (\n                <source\n                  src={`https://customer-${\n                    process.env.NEXT_PUBLIC_CLOUDFLARE_STREAM_CUSTOMER_CODE ??\n                    ''\n                  }.cloudflarestream.com/${\n                    block.videoId ?? ''\n                  }/manifest/video.m3u8`}\n                  type=\"application/x-mpegURL\"\n                />\n              )}\n            {block.source === VideoBlockSource.internal &&\n              block.video?.variant?.hls != null && (\n                <source\n                  src={block.video.variant.hls}\n                  type=\"application/x-mpegURL\"\n                />\n              )}\n            {block.source === VideoBlockSource.youTube && (\n              <source\n                src={`https://www.youtube.com/embed/${block.videoId}?start=${\n                  block.startAt ?? 0\n                }&end=${block.endAt ?? 0}`}\n                type=\"video/youtube\"\n              />\n            )}\n          </video>\n        </>\n      ) : (\n        <Paper\n          sx={{\n            backgroundColor: 'transparent',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            width: '100%',\n            fontSize: 100,\n            zIndex: 1,\n            outline: 'none',\n            outlineOffset: '-3px'\n          }}\n          elevation={0}\n          variant=\"outlined\"\n        >\n          <VideocamRounded\n            fontSize=\"inherit\"\n            sx={{\n              color: VIDEO_FOREGROUND_COLOR,\n              filter: `drop-shadow(-1px 0px 5px ${VIDEO_BACKGROUND_COLOR})`\n            }}\n          />\n        </Paper>\n      )}\n    </Box>\n  )\n}\n","/workspaces/core/apps/journeys/src/components/EmbeddedPreview/index.ts",[],[],"/workspaces/core/apps/journeys/src/libs/apolloClient/apolloClient.ts",[],[],"/workspaces/core/apps/journeys/src/libs/apolloClient/cache/cache.ts",[],[],"/workspaces/core/apps/journeys/src/libs/apolloClient/cache/index.ts",[],[],"/workspaces/core/apps/journeys/src/libs/apolloClient/index.ts",[],[],"/workspaces/core/apps/journeys/src/libs/firebaseClient/firebaseClient.ts",[],[],"/workspaces/core/apps/journeys/src/libs/firebaseClient/index.ts",[],[],"/workspaces/core/apps/journeys/src/libs/storybook/config.tsx",[],[],"/workspaces/core/apps/journeys/src/libs/storybook/index.ts",[],[],"/workspaces/core/apps/journeys/src/libs/testData/storyData.ts",["239"],[],"import type { TreeBlock } from '@core/journeys/ui/block'\nimport {\n  ButtonColor,\n  ButtonSize,\n  ButtonVariant,\n  IconName,\n  IconSize,\n  TypographyVariant,\n  VideoBlockSource\n} from '../../../__generated__/globalTypes'\n\nexport const basic: TreeBlock[] = [\n  {\n    id: 'step1.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: 'step2.id',\n    children: [\n      {\n        id: 'card1.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step1.id',\n        parentOrder: 0,\n        coverBlockId: 'image1.id',\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: true,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'Step 1',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'Start',\n            variant: TypographyVariant.body2,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 3,\n            children: [\n              {\n                id: 'radioOption2.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Step 2 (Locked)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption2.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step2.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption3.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'Step 3 (No nextBlockId)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption3.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step3.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption4.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 2,\n                label: 'Step 4 (End)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption4.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step4.id'\n                },\n                children: []\n              }\n            ]\n          },\n          {\n            id: 'image1.id',\n            __typename: 'ImageBlock',\n            src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n            width: 1920,\n            height: 1080,\n            alt: 'random image from unsplash',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            children: [],\n            blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL'\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step2.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 1,\n    locked: true,\n    nextBlockId: 'step3.id',\n    children: [\n      {\n        id: 'card2.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step2.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'Step 2',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'Locked',\n            variant: TypographyVariant.body2,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 2,\n            children: [\n              {\n                id: 'radioOption1.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Step 1 (Start)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption1.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step1.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption3.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'Step 3 (No nextBlockId)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption3.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step3.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption4.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 2,\n                label: 'Step 4 (End)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption4.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step4.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step3.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 2,\n    locked: false,\n    nextBlockId: null,\n    children: [\n      {\n        id: 'card3.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step3.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card3.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'Step 3',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card3.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'No nextBlockId',\n            variant: TypographyVariant.body2,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'card3.id',\n            parentOrder: 2,\n            children: [\n              {\n                id: 'radioOption1.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Step 1 (Start)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption1.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step1.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption2.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'Step 2 (Locked)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption2.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step2.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption4.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 2,\n                label: 'Step 4 (End)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption4.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step4.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step4.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 3,\n    locked: false,\n    nextBlockId: null,\n    children: [\n      {\n        id: 'card4.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step4.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card4.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'Step 4',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card4.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'End',\n            variant: TypographyVariant.body2,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'card4.id',\n            parentOrder: 2,\n            children: [\n              {\n                id: 'radioOption1.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Step 1 (Start)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption1.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step1.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption2.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'Step 2 (Locked)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption2.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step2.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption3.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 2,\n                label: 'Step 3 (No nextBlockId)',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption3.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step3.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n]\n\nexport const imageBlocks: TreeBlock[] = [\n  {\n    id: 'step0.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: 'step1.id',\n    children: [\n      {\n        id: 'card0.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step0.id',\n        parentOrder: 1,\n        coverBlockId: 'image0.id',\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: \"What's our purpose, and how did we get here?\",\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content:\n              'Follow the journey of a curious Irishman traveling around the world looking for answers and wrestling with the things that just donât seem to make sense. ',\n            variant: null,\n            children: []\n          },\n          {\n            __typename: 'ButtonBlock',\n            id: 'button',\n            parentBlockId: 'card0.id',\n            parentOrder: 2,\n            label: 'Watch Now',\n            buttonVariant: ButtonVariant.contained,\n            buttonColor: ButtonColor.primary,\n            size: ButtonSize.large,\n            startIconId: 'icon',\n            endIconId: null,\n            action: {\n              __typename: 'NavigateAction',\n              parentBlockId: 'button',\n              gtmEventName: 'gtmEventName'\n            },\n            children: [\n              {\n                id: 'icon',\n                __typename: 'IconBlock',\n                parentBlockId: 'button',\n                parentOrder: 0,\n                iconName: IconName.PlayArrowRounded,\n                iconColor: null,\n                iconSize: IconSize.md,\n                children: []\n              }\n            ]\n          },\n          {\n            id: 'image0.id',\n            __typename: 'ImageBlock',\n            src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n            width: 1920,\n            height: 1080,\n            alt: 'random image from unsplash',\n            parentBlockId: 'card0.id',\n            parentOrder: 0,\n            children: [],\n            blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL'\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step1.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 1,\n    locked: false,\n    nextBlockId: 'step2.id',\n    children: [\n      {\n        id: 'card0.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step1.id',\n        parentOrder: 1,\n        coverBlockId: 'image0.id',\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'a quick question...',\n            variant: TypographyVariant.h6,\n            children: []\n          },\n          {\n            id: 'typographyBlockId12',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'Can we trust the story of Jesus ?',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            __typename: 'ButtonBlock',\n            id: 'button',\n            parentBlockId: 'card0.id',\n            parentOrder: 2,\n            label: 'Watch Now',\n            buttonVariant: ButtonVariant.contained,\n            buttonColor: ButtonColor.primary,\n            size: ButtonSize.large,\n            startIconId: 'icon',\n            endIconId: null,\n            action: {\n              __typename: 'NavigateAction',\n              parentBlockId: 'button',\n              gtmEventName: 'gtmEventName'\n            },\n            children: [\n              {\n                id: 'icon',\n                __typename: 'IconBlock',\n                parentBlockId: 'button',\n                parentOrder: 0,\n                iconName: IconName.PlayArrowRounded,\n                iconColor: null,\n                iconSize: IconSize.md,\n                children: []\n              }\n            ]\n          },\n          {\n            id: 'image0.id',\n            __typename: 'ImageBlock',\n            src: 'https://images.unsplash.com/photo-1558704164-ab7a0016c1f3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80',\n            width: 1920,\n            height: 1080,\n            alt: 'random image from unsplash',\n            parentBlockId: 'card0.id',\n            parentOrder: 0,\n            children: [],\n            blurhash: 'LQEf1v^*XkEe*IyD$RnOyXTJRjjG'\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step2.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 2,\n    locked: false,\n    nextBlockId: 'step3.id',\n    children: [\n      {\n        id: 'card2.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step0.id',\n        parentOrder: 1,\n        coverBlockId: 'image0.id',\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'if itâs true...',\n            variant: TypographyVariant.h6,\n            children: []\n          },\n          {\n            id: 'typographyBlockId12',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'What is Christianity to you?',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'textResponse.id',\n            __typename: 'TextResponseBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 2,\n            label: 'Your answer here',\n            hint: null,\n            minRows: null,\n            submitLabel: null,\n            submitIconId: null,\n            children: [],\n            action: {\n              __typename: 'NavigateAction',\n              parentBlockId: 'textResponse.id',\n              gtmEventName: 'gtmEventName'\n            }\n          },\n          {\n            id: 'image0.id',\n            __typename: 'ImageBlock',\n            src: 'https://images.unsplash.com/photo-1477936821694-ec4233a9a1a0?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1136&q=80',\n            width: 1920,\n            height: 1080,\n            alt: 'random image from unsplash',\n            parentBlockId: 'card2.id',\n            parentOrder: 0,\n            children: [],\n            blurhash: 'L;KRQa-Rs-kA}ot4bZj@SMR,WWj@'\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step3.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 3,\n    locked: false,\n    nextBlockId: 'step4.id',\n    children: [\n      {\n        id: 'card0.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step0.id',\n        parentOrder: 1,\n        coverBlockId: 'image0.id',\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'What do you think?',\n            variant: TypographyVariant.h6,\n            children: []\n          },\n          {\n            id: 'typographyBlockId12',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'Do you need to change to be good enough for God?',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'step2.id',\n            parentOrder: 2,\n            children: [\n              {\n                id: 'radioOption1.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Yes, God likes good people',\n                action: {\n                  __typename: 'NavigateAction',\n                  parentBlockId: 'radioOption1.id',\n                  gtmEventName: 'gtmEventName'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption3.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'No, He will accept me as I am',\n                action: {\n                  __typename: 'NavigateAction',\n                  parentBlockId: 'radioOption3.id',\n                  gtmEventName: 'gtmEventName'\n                },\n                children: []\n              }\n            ]\n          },\n          {\n            id: 'image0.id',\n            __typename: 'ImageBlock',\n            src: 'https://images.unsplash.com/photo-1651069188152-bf30b5af2a0d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1364&q=80',\n            width: 1920,\n            height: 1080,\n            alt: 'random image from unsplash',\n            parentBlockId: 'card0.id',\n            parentOrder: 1,\n            children: [],\n            blurhash: 'L3CZt$_NyX4n=|?b00Ip8_IV00IA'\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step4.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 4,\n    locked: false,\n    nextBlockId: null,\n    children: [\n      {\n        id: 'card0.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step0.id',\n        coverBlockId: 'image0.id',\n        parentOrder: 1,\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'image0.id',\n            __typename: 'ImageBlock',\n            src: 'https://images.unsplash.com/photo-1601142634808-38923eb7c560?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80',\n            width: 1920,\n            height: 1080,\n            alt: 'random image from unsplash',\n            parentBlockId: 'card0.id',\n            parentOrder: null,\n            children: [],\n            blurhash: 'LFALX]%g4Tf+?^jEMxo#00Mx%gjZ'\n          },\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'a quote',\n            variant: TypographyVariant.overline,\n            children: []\n          },\n          {\n            id: 'typographyBlockId12',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content:\n              'âGod sent his Son into the world not to judge the world, but to save the world through him.â',\n            variant: TypographyVariant.subtitle1,\n            children: []\n          },\n          {\n            id: 'typographyBlockId13',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 2,\n            align: null,\n            color: null,\n            content: 'â  The Bible, John 3:17',\n            variant: TypographyVariant.caption,\n            children: []\n          },\n\n          {\n            __typename: 'ButtonBlock',\n            id: 'button',\n            parentBlockId: 'card0.id',\n            parentOrder: 3,\n            label: 'Start Over',\n            buttonVariant: ButtonVariant.contained,\n            buttonColor: ButtonColor.primary,\n            size: ButtonSize.large,\n            startIconId: 'icon',\n            endIconId: null,\n            action: {\n              __typename: 'NavigateToBlockAction',\n              parentBlockId: 'button',\n              gtmEventName: 'gtmEventName',\n              blockId: 'step0.id'\n            },\n            children: [\n              {\n                id: 'icon',\n                __typename: 'IconBlock',\n                parentBlockId: 'button',\n                parentOrder: 0,\n                iconName: IconName.PlayArrowRounded,\n                iconColor: null,\n                iconSize: IconSize.md,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n]\n\nexport const videoBlocks: TreeBlock[] = [\n  {\n    id: 'step1.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: 'step2.id',\n    children: [\n      {\n        id: 'card1.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step1.id',\n        coverBlockId: null,\n        parentOrder: 0,\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video1.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: true,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            posterBlockId: 'image1.id',\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'trigger.id',\n                __typename: 'VideoTriggerBlock',\n                parentBlockId: 'video1.id',\n                parentOrder: 0,\n                triggerStart: 2755,\n                triggerAction: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'trigger.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step2.id'\n                },\n                children: []\n              },\n              {\n                id: 'image1.id',\n                __typename: 'ImageBlock',\n                src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n                blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n                width: 1920,\n                height: 1080,\n                alt: 'random image from unsplash',\n                parentBlockId: 'card1.id',\n                parentOrder: 0,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step2.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 1,\n    locked: true,\n    nextBlockId: 'step3.id',\n    children: [\n      {\n        id: 'card2.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step2.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'Step 2',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'Locked',\n            variant: TypographyVariant.body2,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 2,\n            children: [\n              {\n                id: 'radioOption1.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Video with Poster',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption1.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step3.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption2.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'Video With Autoplay',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption2.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step4.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step3.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 2,\n    locked: false,\n    nextBlockId: 'step4.id',\n    children: [\n      {\n        id: 'card3.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step3.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video2.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card3.id',\n            parentOrder: 0,\n            autoplay: false,\n            muted: false,\n            posterBlockId: 'posterBlockId',\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'posterBlockId',\n                __typename: 'ImageBlock',\n                src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n                alt: 'random image from unsplash',\n                width: 1600,\n                height: 1067,\n                blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n                parentBlockId: 'videoBlockId',\n                parentOrder: 0,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step4.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 3,\n    locked: false,\n    nextBlockId: null,\n    children: [\n      {\n        id: 'card4.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step4.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video3.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card4.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: false,\n            posterBlockId: null,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: []\n          }\n        ]\n      }\n    ]\n  }\n]\n\nexport const videoBlocksNoPoster: TreeBlock[] = [\n  {\n    id: 'step1.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: 'step2.id',\n    children: [\n      {\n        id: 'card1.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step1.id',\n        coverBlockId: null,\n        parentOrder: 0,\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video1.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: true,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            posterBlockId: null,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'trigger.id',\n                __typename: 'VideoTriggerBlock',\n                parentBlockId: 'video1.id',\n                parentOrder: 0,\n                triggerStart: 2755,\n                triggerAction: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'trigger.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step2.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step2.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 1,\n    locked: true,\n    nextBlockId: 'step3.id',\n    children: [\n      {\n        id: 'card2.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step2.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'Step 2',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'Locked',\n            variant: TypographyVariant.body2,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 2,\n            children: [\n              {\n                id: 'radioOption1.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Video with Poster',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption1.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step3.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption2.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'Video With Autoplay',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption2.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step4.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step3.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 2,\n    locked: false,\n    nextBlockId: 'step4.id',\n    children: [\n      {\n        id: 'card3.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step3.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video2.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card3.id',\n            parentOrder: 0,\n            autoplay: false,\n            muted: false,\n            posterBlockId: 'posterBlockId',\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'posterBlockId',\n                __typename: 'ImageBlock',\n                src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n                alt: 'random image from unsplash',\n                width: 1600,\n                height: 1067,\n                blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n                parentBlockId: 'videoBlockId',\n                parentOrder: 0,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step4.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 3,\n    locked: false,\n    nextBlockId: null,\n    children: [\n      {\n        id: 'card4.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step4.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video3.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card4.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: false,\n            posterBlockId: null,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: []\n          }\n        ]\n      }\n    ]\n  }\n]\n\nexport const videoBlocksNoVideo: TreeBlock[] = [\n  {\n    id: 'step1.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: 'step2.id',\n    children: [\n      {\n        id: 'card1.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step1.id',\n        coverBlockId: null,\n        parentOrder: 0,\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video1.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: true,\n            videoId: null,\n            videoVariantLanguageId: '529',\n            source: VideoBlockSource.internal,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 5,\n            posterBlockId: null,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'trigger.id',\n                __typename: 'VideoTriggerBlock',\n                parentBlockId: 'video1.id',\n                parentOrder: 0,\n                triggerStart: 20,\n                triggerAction: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'trigger.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step2.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step2.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 1,\n    locked: true,\n    nextBlockId: 'step3.id',\n    children: [\n      {\n        id: 'card2.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step2.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: 'Step 2',\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content: 'Locked',\n            variant: TypographyVariant.body2,\n            children: []\n          },\n          {\n            id: 'radioQuestion1.id',\n            __typename: 'RadioQuestionBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 2,\n            children: [\n              {\n                id: 'radioOption1.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 0,\n                label: 'Video with Poster',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption1.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step3.id'\n                },\n                children: []\n              },\n              {\n                id: 'radioOption2.id',\n                __typename: 'RadioOptionBlock',\n                parentBlockId: 'radioQuestion1.id',\n                parentOrder: 1,\n                label: 'Video With Autoplay',\n                action: {\n                  __typename: 'NavigateToBlockAction',\n                  parentBlockId: 'radioOption2.id',\n                  gtmEventName: 'gtmEventName',\n                  blockId: 'step4.id'\n                },\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step3.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 2,\n    locked: false,\n    nextBlockId: 'step4.id',\n    children: [\n      {\n        id: 'card3.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step3.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video2.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card3.id',\n            parentOrder: 0,\n            autoplay: false,\n            muted: false,\n            posterBlockId: 'posterBlockId',\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'posterBlockId',\n                __typename: 'ImageBlock',\n                src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n                alt: 'random image from unsplash',\n                width: 1600,\n                height: 1067,\n                blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n                parentBlockId: 'videoBlockId',\n                parentOrder: 0,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step4.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 3,\n    locked: false,\n    nextBlockId: null,\n    children: [\n      {\n        id: 'card4.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step4.id',\n        parentOrder: 0,\n        backgroundColor: null,\n        coverBlockId: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video3.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card4.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: false,\n            posterBlockId: null,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            endAt: null,\n            startAt: 2738,\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: []\n          }\n        ]\n      }\n    ]\n  }\n]\n\nexport const videoLoop: TreeBlock[] = [\n  {\n    id: 'step0.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: 'step1.id',\n    children: [\n      {\n        id: 'card0.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step0.id',\n        parentOrder: 1,\n        coverBlockId: 'video1.id',\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'typographyBlockId1',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 0,\n            align: null,\n            color: null,\n            content: \"What's our purpose, and how did we get here?\",\n            variant: TypographyVariant.h3,\n            children: []\n          },\n          {\n            id: 'typographyBlockId2',\n            __typename: 'TypographyBlock',\n            parentBlockId: 'card0.id',\n            parentOrder: 1,\n            align: null,\n            color: null,\n            content:\n              'Follow the journey of a curious Irishman traveling around the world looking for answers and wrestling with the things that just donât seem to make sense. ',\n            variant: null,\n            children: []\n          },\n          {\n            __typename: 'ButtonBlock',\n            id: 'button',\n            parentBlockId: 'card0.id',\n            parentOrder: 2,\n            label: 'Watch Now',\n            buttonVariant: ButtonVariant.contained,\n            buttonColor: ButtonColor.primary,\n            size: ButtonSize.large,\n            startIconId: 'icon',\n            endIconId: null,\n            action: {\n              __typename: 'NavigateAction',\n              parentBlockId: 'button',\n              gtmEventName: 'gtmEventName'\n            },\n            children: [\n              {\n                id: 'icon',\n                __typename: 'IconBlock',\n                parentBlockId: 'button',\n                parentOrder: 0,\n                iconName: IconName.PlayArrowRounded,\n                iconColor: null,\n                iconSize: IconSize.md,\n                children: []\n              }\n            ]\n          },\n          {\n            id: 'video1.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: true,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            startAt: 2738,\n            endAt: 2758,\n            posterBlockId: 'image1.id',\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'image1.id',\n                __typename: 'ImageBlock',\n                src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n                blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n                width: 1920,\n                height: 1080,\n                alt: 'random image from unsplash',\n                parentBlockId: 'card1.id',\n                parentOrder: 0,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step1.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: 'step2.id',\n    children: [\n      {\n        id: 'card1.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step1.id',\n        coverBlockId: null,\n        parentOrder: 0,\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video1.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card1.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: false,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            startAt: 2738,\n            endAt: 2758,\n            posterBlockId: 'image1.id',\n            fullsize: true,\n            action: {\n              __typename: 'NavigateToBlockAction',\n              parentBlockId: 'trigger.id',\n              gtmEventName: 'gtmEventName',\n              blockId: 'step2.id'\n            },\n            objectFit: null,\n            children: [\n              {\n                id: 'image1.id',\n                __typename: 'ImageBlock',\n                src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n                blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n                width: 1920,\n                height: 1080,\n                alt: 'random image from unsplash',\n                parentBlockId: 'card1.id',\n                parentOrder: 0,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'step2.id',\n    __typename: 'StepBlock',\n    parentBlockId: null,\n    parentOrder: 0,\n    locked: false,\n    nextBlockId: null,\n    children: [\n      {\n        id: 'card2.id',\n        __typename: 'CardBlock',\n        parentBlockId: 'step2.id',\n        coverBlockId: null,\n        parentOrder: 0,\n        backgroundColor: null,\n        themeMode: null,\n        themeName: null,\n        fullscreen: false,\n        children: [\n          {\n            id: 'video2.id',\n            __typename: 'VideoBlock',\n            parentBlockId: 'card2.id',\n            parentOrder: 0,\n            autoplay: true,\n            muted: true,\n            videoId: '5I69DCxYbBg',\n            videoVariantLanguageId: null,\n            source: VideoBlockSource.youTube,\n            title: null,\n            description: null,\n            duration: null,\n            image: null,\n            video: null,\n            startAt: 2738,\n            endAt: 2758,\n            posterBlockId: 'image1.id',\n            fullsize: true,\n            action: null,\n            objectFit: null,\n            children: [\n              {\n                id: 'image1.id',\n                __typename: 'ImageBlock',\n                src: 'https://images.unsplash.com/photo-1508363778367-af363f107cbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&dl=chester-wade-hLP7lVm4KUE-unsplash.jpg&w=1920',\n                blurhash: 'L9AS}j^-0dVC4Tq[=~PATeXSV?aL',\n                width: 1920,\n                height: 1080,\n                alt: 'random image from unsplash',\n                parentBlockId: 'card1.id',\n                parentOrder: 0,\n                children: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n]\n","/workspaces/core/apps/journeys/src/libs/useFullscreenStatus/useFullscreenStatus.ts",[],[],{"ruleId":"240","severity":2,"message":"241","line":2,"column":1,"nodeType":"242","endLine":2,"endColumn":60,"fix":"243"},{"ruleId":"240","severity":2,"message":"244","line":3,"column":1,"nodeType":"242","endLine":3,"endColumn":62,"fix":"245"},{"ruleId":"240","severity":2,"message":"246","line":4,"column":1,"nodeType":"242","endLine":4,"endColumn":62,"fix":"247"},{"ruleId":"240","severity":2,"message":"248","line":5,"column":1,"nodeType":"242","endLine":5,"endColumn":60,"fix":"249"},{"ruleId":"240","severity":2,"message":"250","line":6,"column":1,"nodeType":"242","endLine":6,"endColumn":81,"fix":"251"},{"ruleId":"240","severity":2,"message":"252","line":7,"column":1,"nodeType":"242","endLine":7,"endColumn":68,"fix":"253"},{"ruleId":"240","severity":2,"message":"254","line":8,"column":1,"nodeType":"242","endLine":8,"endColumn":54,"fix":"255"},{"ruleId":"240","severity":2,"message":"256","line":10,"column":1,"nodeType":"242","endLine":10,"endColumn":72,"fix":"257"},{"ruleId":"240","severity":2,"message":"258","line":15,"column":1,"nodeType":"242","endLine":15,"endColumn":54,"fix":"259"},{"ruleId":"260","severity":2,"message":"261","line":103,"column":20,"nodeType":"262","messageId":"263","endLine":103,"endColumn":25,"fix":"264"},{"ruleId":"240","severity":2,"message":"265","line":3,"column":1,"nodeType":"242","endLine":3,"endColumn":62,"fix":"266"},{"ruleId":"240","severity":2,"message":"267","line":4,"column":1,"nodeType":"242","endLine":4,"endColumn":60,"fix":"268"},{"ruleId":"240","severity":2,"message":"269","line":5,"column":1,"nodeType":"242","endLine":5,"endColumn":68,"fix":"270"},{"ruleId":"240","severity":2,"message":"271","line":8,"column":1,"nodeType":"242","endLine":8,"endColumn":54,"fix":"272"},{"ruleId":"240","severity":2,"message":"273","line":9,"column":1,"nodeType":"242","endLine":9,"endColumn":62,"fix":"274"},{"ruleId":"240","severity":2,"message":"275","line":10,"column":1,"nodeType":"242","endLine":10,"endColumn":52,"fix":"276"},{"ruleId":"240","severity":2,"message":"277","line":11,"column":1,"nodeType":"242","endLine":11,"endColumn":62,"fix":"278"},{"ruleId":"240","severity":2,"message":"279","line":1,"column":1,"nodeType":"242","endLine":1,"endColumn":64,"fix":"280"},{"ruleId":"240","severity":2,"message":"281","line":2,"column":1,"nodeType":"242","endLine":2,"endColumn":68,"fix":"282"},{"ruleId":"240","severity":2,"message":"283","line":3,"column":1,"nodeType":"242","endLine":7,"endColumn":33,"fix":"284"},{"ruleId":"240","severity":2,"message":"281","line":7,"column":1,"nodeType":"242","endLine":7,"endColumn":68,"fix":"285"},{"ruleId":"240","severity":2,"message":"286","line":8,"column":1,"nodeType":"242","endLine":11,"endColumn":71,"fix":"287"},{"ruleId":"288","severity":2,"message":"289","line":127,"column":5,"nodeType":"290","messageId":"291","endLine":127,"endColumn":32,"suggestions":"292"},{"ruleId":"240","severity":2,"message":"293","line":14,"column":1,"nodeType":"242","endLine":14,"endColumn":50,"fix":"294"},{"ruleId":"240","severity":2,"message":"295","line":19,"column":1,"nodeType":"242","endLine":19,"endColumn":39,"fix":"296"},{"ruleId":"240","severity":2,"message":"297","line":20,"column":1,"nodeType":"242","endLine":20,"endColumn":36,"fix":"298"},{"ruleId":"240","severity":2,"message":"299","line":21,"column":1,"nodeType":"242","endLine":21,"endColumn":42,"fix":"300"},{"ruleId":"240","severity":2,"message":"301","line":22,"column":1,"nodeType":"242","endLine":22,"endColumn":87,"fix":"302"},{"ruleId":"240","severity":2,"message":"303","line":23,"column":1,"nodeType":"242","endLine":23,"endColumn":63,"fix":"304"},{"ruleId":"240","severity":2,"message":"305","line":24,"column":1,"nodeType":"242","endLine":24,"endColumn":72,"fix":"306"},{"ruleId":"240","severity":2,"message":"307","line":28,"column":1,"nodeType":"242","endLine":28,"endColumn":54,"fix":"308"},{"ruleId":"309","severity":1,"message":"310","line":141,"column":6,"nodeType":"311","endLine":141,"endColumn":15,"suggestions":"312","suppressions":"313"},{"ruleId":"240","severity":2,"message":"314","line":3,"column":1,"nodeType":"242","endLine":3,"endColumn":68,"fix":"315"},{"ruleId":"240","severity":2,"message":"316","line":5,"column":1,"nodeType":"242","endLine":5,"endColumn":54,"fix":"317"},{"ruleId":"240","severity":2,"message":"318","line":11,"column":1,"nodeType":"242","endLine":11,"endColumn":66,"fix":"319"},{"ruleId":"240","severity":2,"message":"320","line":2,"column":1,"nodeType":"242","endLine":2,"endColumn":46,"fix":"321"},{"ruleId":"240","severity":2,"message":"322","line":3,"column":1,"nodeType":"242","endLine":3,"endColumn":57,"fix":"323"},{"ruleId":"240","severity":2,"message":"324","line":4,"column":1,"nodeType":"242","endLine":4,"endColumn":69,"fix":"325"},{"ruleId":"240","severity":2,"message":"326","line":4,"column":1,"nodeType":"242","endLine":4,"endColumn":68,"fix":"327"},{"ruleId":"240","severity":2,"message":"328","line":5,"column":1,"nodeType":"242","endLine":5,"endColumn":105,"fix":"329"},{"ruleId":"240","severity":2,"message":"330","line":4,"column":1,"nodeType":"242","endLine":4,"endColumn":57,"fix":"331"},{"ruleId":"240","severity":2,"message":"332","line":5,"column":1,"nodeType":"242","endLine":5,"endColumn":64,"fix":"333"},{"ruleId":"240","severity":2,"message":"334","line":12,"column":1,"nodeType":"242","endLine":12,"endColumn":58,"fix":"335"},{"ruleId":"240","severity":2,"message":"336","line":7,"column":1,"nodeType":"242","endLine":7,"endColumn":118,"fix":"337"},{"ruleId":"240","severity":2,"message":"338","line":2,"column":1,"nodeType":"242","endLine":2,"endColumn":52,"fix":"339"},{"ruleId":"240","severity":2,"message":"340","line":2,"column":1,"nodeType":"242","endLine":2,"endColumn":57,"fix":"341"},{"ruleId":"240","severity":2,"message":"342","line":6,"column":1,"nodeType":"242","endLine":6,"endColumn":56,"fix":"343"},{"ruleId":"240","severity":2,"message":"344","line":8,"column":1,"nodeType":"242","endLine":8,"endColumn":54,"fix":"345"},{"ruleId":"240","severity":2,"message":"346","line":2,"column":1,"nodeType":"242","endLine":10,"endColumn":44,"fix":"347"},"import/order","`@core/journeys/ui/transformer` import should occur after import of `../__generated__/globalTypes`","ImportDeclaration",{"range":"348","text":"349"},"`@core/shared/ui/ThemeProvider` import should occur after import of `../__generated__/globalTypes`",{"range":"350","text":"351"},"`@core/shared/ui/ThemeProvider` import should occur after import of `../next-i18next.config`",{"range":"352","text":"353"},"`@core/journeys/ui/transformer` import should occur after import of `../next-i18next.config`",{"range":"354","text":"355"},"`@core/journeys/ui/JourneyProvider/journeyFields` import should occur after import of `../next-i18next.config`",{"range":"356","text":"357"},"`@core/journeys/ui/JourneyProvider` import should occur after import of `../next-i18next.config`",{"range":"358","text":"359"},"`@core/journeys/ui/rtl` import should occur after import of `../next-i18next.config`",{"range":"360","text":"361"},"`@core/shared/ui/createEmotionCache` import should occur after import of `../__generated__/GetJourney`",{"range":"362","text":"363"},"`@core/journeys/ui/rtl` import should occur after import of `../__generated__/GetJourney`",{"range":"364","text":"365"},"@typescript-eslint/promise-function-async","Functions that return promises must be async.","ArrowFunctionExpression","missingAsync",{"range":"366","text":"367"},"`@core/shared/ui/ThemeProvider` import should occur after import of `../../__generated__/StepFields`",{"range":"368","text":"369"},"`@core/journeys/ui/transformer` import should occur after import of `../../__generated__/StepFields`",{"range":"370","text":"371"},"`@core/journeys/ui/JourneyProvider` import should occur after import of `../../__generated__/StepFields`",{"range":"372","text":"373"},"`@core/journeys/ui/rtl` import should occur after import of `../../__generated__/StepFields`",{"range":"374","text":"375"},"`@core/journeys/ui/getStepTheme` import should occur after import of `../../__generated__/StepFields`",{"range":"376","text":"377"},"`@core/journeys/ui/block` import should occur after import of `../../__generated__/StepFields`",{"range":"378","text":"379"},"`@core/shared/ui/ThemeProvider` import should occur after import of `../public/logo.svg`",{"range":"380","text":"381"},"`@core/shared/ui/useBreakpoints` import should occur after import of `.`",{"range":"382","text":"383"},"`@core/journeys/ui/JourneyProvider` import should occur after import of `.`",{"range":"384","text":"385"},"`@core/journeys/ui/block` import should occur after import of `.`",{"range":"386","text":"387"},{"range":"388","text":"389"},"`@core/journeys/ui/JourneyProvider/__generated__/JourneyFields` import should occur after import of `.`",{"range":"390","text":"391"},"@typescript-eslint/no-floating-promises","Promises must be awaited, end with a call to .catch, end with a call to .then with a rejection handler or be explicitly marked as ignored with the `void` operator.","ExpressionStatement","floatingVoid",["392"],"`@apollo/client` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"393","text":"394"},"`react-div-100vh` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"395","text":"396"},"`uuid` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"397","text":"398"},"`react-gtm-module` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"399","text":"400"},"`../../../__generated__/JourneyViewEventCreate` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"401","text":"402"},"`../../../__generated__/StepFields` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"403","text":"404"},"`../../../__generated__/globalTypes` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"405","text":"406"},"`./NavigationButton` import should occur before import of `@core/shared/ui/ThemeProvider`",{"range":"407","text":"408"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'admin', 'journeyViewEventCreate', and 'journeyVisitorUpdate'. Either include them or remove the dependency array.","ArrayExpression",["409"],["410"],"`@testing-library/react` import should occur before import of `@core/journeys/ui/block`",{"range":"411","text":"412"},"`./NavigationButton` import should occur before import of `@core/journeys/ui/block`",{"range":"413","text":"414"},"`../../../../__generated__/StepFields` import should occur before type import of `@core/journeys/ui/block`",{"range":"415","text":"416"},"`@core/journeys/ui/Icon` import should occur after import of `../../../../__generated__/GetJourney`",{"range":"417","text":"418"},"`@core/journeys/ui/block` type import should occur after import of `../../../../__generated__/GetJourney`",{"range":"419","text":"420"},"`@core/journeys/ui/Step/Step` import should occur after import of `./EmbeddedPreview`",{"range":"421","text":"422"},"`@core/journeys/ui/JourneyProvider` import should occur after import of `./EmbeddedPreview`",{"range":"423","text":"424"},"`@core/journeys/ui/JourneyProvider/__generated__/JourneyFields` import should occur after import of `./EmbeddedPreview`",{"range":"425","text":"426"},"`@core/journeys/ui/block` type import should occur after import of `./VideoWrapper/VideoWrapper`",{"range":"427","text":"428"},"`@core/journeys/ui/BlockRenderer` import should occur after import of `./VideoWrapper/VideoWrapper`",{"range":"429","text":"430"},"`@core/journeys/ui/StepFooter` import should occur after import of `./VideoWrapper/VideoWrapper`",{"range":"431","text":"432"},"`../../../../__generated__/GetJourney` import should occur before type import of `@core/journeys/ui/block`",{"range":"433","text":"434"},"`@core/journeys/ui/block` import should occur after import of `./VideoWrapper`",{"range":"435","text":"436"},"`@core/journeys/ui/block` type import should occur after import of `../../../../__generated__/globalTypes`",{"range":"437","text":"438"},"`@core/journeys/ui/blurImage` import should occur after import of `../../../../__generated__/globalTypes`",{"range":"439","text":"440"},"`@core/shared/ui/NextImage` import should occur after import of `../../../../__generated__/globalTypes`",{"range":"441","text":"442"},"`../../../__generated__/globalTypes` import should occur before type import of `@core/journeys/ui/block`",{"range":"443","text":"444"},[37,466],"import { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport { Conductor } from '../src/components/Conductor'\nimport { GetJourney_journey_blocks as Block } from '../__generated__/GetJourney'\nimport {\n  IconName,\n  TypographyAlign,\n  TypographyVariant,\n  ButtonColor,\n  ButtonVariant,\n  ButtonSize,\n  ThemeName,\n  ThemeMode\n} from '../__generated__/globalTypes'\nimport { transformer } from '@core/journeys/ui/transformer'\n",[97,466],"import { Conductor } from '../src/components/Conductor'\nimport { GetJourney_journey_blocks as Block } from '../__generated__/GetJourney'\nimport {\n  IconName,\n  TypographyAlign,\n  TypographyVariant,\n  ButtonColor,\n  ButtonVariant,\n  ButtonSize,\n  ThemeName,\n  ThemeMode\n} from '../__generated__/globalTypes'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\n",[128,930],"import { transformer } from '@core/journeys/ui/transformer'\nimport { JOURNEY_FIELDS } from '@core/journeys/ui/JourneyProvider/journeyFields'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useRouter } from 'next/router'\nimport { Conductor } from '../src/components/Conductor'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../__generated__/GetJourneySlugs'\nimport i18nConfig from '../next-i18next.config'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\n",[190,930],"import { JOURNEY_FIELDS } from '@core/journeys/ui/JourneyProvider/journeyFields'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useRouter } from 'next/router'\nimport { Conductor } from '../src/components/Conductor'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../__generated__/GetJourneySlugs'\nimport i18nConfig from '../next-i18next.config'\nimport { transformer } from '@core/journeys/ui/transformer'\n",[250,930],"import { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useRouter } from 'next/router'\nimport { Conductor } from '../src/components/Conductor'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../__generated__/GetJourneySlugs'\nimport i18nConfig from '../next-i18next.config'\nimport { JOURNEY_FIELDS } from '@core/journeys/ui/JourneyProvider/journeyFields'\n",[331,930],"import { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useRouter } from 'next/router'\nimport { Conductor } from '../src/components/Conductor'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../__generated__/GetJourneySlugs'\nimport i18nConfig from '../next-i18next.config'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\n",[399,930],"import { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useRouter } from 'next/router'\nimport { Conductor } from '../src/components/Conductor'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../__generated__/GetJourneySlugs'\nimport i18nConfig from '../next-i18next.config'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\n",[407,983],"import { SnackbarProvider } from 'notistack'\nimport { getAuth, onAuthStateChanged } from 'firebase/auth'\nimport { appWithTranslation, SSRConfig } from 'next-i18next'\nimport { useTranslation } from 'react-i18next'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { useApollo } from '../src/libs/apolloClient'\nimport { firebaseClient } from '../src/libs/firebaseClient'\nimport i18nConfig from '../next-i18next.config'\nimport { GetJourney_journey as Journey } from '../__generated__/GetJourney'\nimport { createEmotionCache } from '@core/shared/ui/createEmotionCache'\n",[692,983],"import { useApollo } from '../src/libs/apolloClient'\nimport { firebaseClient } from '../src/libs/firebaseClient'\nimport i18nConfig from '../next-i18next.config'\nimport { GetJourney_journey as Journey } from '../__generated__/GetJourney'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\n",[3352,3352],"async ",[100,1048],"import { transformer } from '@core/journeys/ui/transformer'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { TreeBlock } from '@core/journeys/ui/block'\nimport { EmbeddedPreview } from '../../src/components/EmbeddedPreview'\nimport { createApolloClient } from '../../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../../__generated__/GetJourneySlugs'\nimport i18nConfig from '../../next-i18next.config'\nimport { GET_JOURNEY, GET_JOURNEY_SLUGS } from '../[journeySlug]'\nimport { StepFields } from '../../__generated__/StepFields'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\n",[162,1048],"import { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { TreeBlock } from '@core/journeys/ui/block'\nimport { EmbeddedPreview } from '../../src/components/EmbeddedPreview'\nimport { createApolloClient } from '../../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../../__generated__/GetJourneySlugs'\nimport i18nConfig from '../../next-i18next.config'\nimport { GET_JOURNEY, GET_JOURNEY_SLUGS } from '../[journeySlug]'\nimport { StepFields } from '../../__generated__/StepFields'\nimport { transformer } from '@core/journeys/ui/transformer'\n",[222,1048],"import { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { TreeBlock } from '@core/journeys/ui/block'\nimport { EmbeddedPreview } from '../../src/components/EmbeddedPreview'\nimport { createApolloClient } from '../../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../../__generated__/GetJourneySlugs'\nimport i18nConfig from '../../next-i18next.config'\nimport { GET_JOURNEY, GET_JOURNEY_SLUGS } from '../[journeySlug]'\nimport { StepFields } from '../../__generated__/StepFields'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\n",[402,1048],"import { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { TreeBlock } from '@core/journeys/ui/block'\nimport { EmbeddedPreview } from '../../src/components/EmbeddedPreview'\nimport { createApolloClient } from '../../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../../__generated__/GetJourneySlugs'\nimport i18nConfig from '../../next-i18next.config'\nimport { GET_JOURNEY, GET_JOURNEY_SLUGS } from '../[journeySlug]'\nimport { StepFields } from '../../__generated__/StepFields'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\n",[456,1048],"import { TreeBlock } from '@core/journeys/ui/block'\nimport { EmbeddedPreview } from '../../src/components/EmbeddedPreview'\nimport { createApolloClient } from '../../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../../__generated__/GetJourneySlugs'\nimport i18nConfig from '../../next-i18next.config'\nimport { GET_JOURNEY, GET_JOURNEY_SLUGS } from '../[journeySlug]'\nimport { StepFields } from '../../__generated__/StepFields'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\n",[518,1048],"import { EmbeddedPreview } from '../../src/components/EmbeddedPreview'\nimport { createApolloClient } from '../../src/libs/apolloClient'\nimport {\n  GetJourney,\n  GetJourney_journey as Journey\n} from '../../__generated__/GetJourney'\nimport { GetJourneySlugs } from '../../__generated__/GetJourneySlugs'\nimport i18nConfig from '../../next-i18next.config'\nimport { GET_JOURNEY, GET_JOURNEY_SLUGS } from '../[journeySlug]'\nimport { StepFields } from '../../__generated__/StepFields'\nimport { TreeBlock } from '@core/journeys/ui/block'\n",[402,1043],"import NextLink from 'next/link'\nimport { GetStaticProps } from 'next'\nimport { gql } from '@apollo/client'\nimport { serverSideTranslations } from 'next-i18next/serverSideTranslations'\nimport { NextSeo } from 'next-seo'\nimport { useTranslation } from 'react-i18next'\nimport { createApolloClient } from '../src/libs/apolloClient'\nimport {\n  GetJourneys,\n  GetJourneys_journeys as Journey\n} from '../__generated__/GetJourneys'\nimport { ThemeMode, ThemeName } from '../__generated__/globalTypes'\nimport i18nConfig from '../next-i18next.config'\nimport logo from '../public/logo.svg'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\n",[0,855],"import { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\nimport {\n  TreeBlock,\n  treeBlocksVar,\n  blockHistoryVar\n} from '@core/journeys/ui/block'\nimport { MockedProvider } from '@apollo/client/testing'\nimport { fireEvent, render, waitFor } from '@testing-library/react'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { SnackbarProvider } from 'notistack'\nimport {\n  GetJourney_journey as Journey,\n  GetJourney_journey_language as Language\n} from '../../../__generated__/GetJourney'\nimport {\n  ThemeName,\n  ThemeMode,\n  JourneyStatus\n} from '../../../__generated__/globalTypes'\nimport { basic } from '../../libs/testData/storyData'\nimport { JOURNEY_VIEW_EVENT_CREATE, JOURNEY_VISITOR_UPDATE } from './Conductor'\nimport { Conductor } from '.'\nimport { useBreakpoints } from '@core/shared/ui/useBreakpoints'\n",[64,855],"import {\n  TreeBlock,\n  treeBlocksVar,\n  blockHistoryVar\n} from '@core/journeys/ui/block'\nimport { MockedProvider } from '@apollo/client/testing'\nimport { fireEvent, render, waitFor } from '@testing-library/react'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { SnackbarProvider } from 'notistack'\nimport {\n  GetJourney_journey as Journey,\n  GetJourney_journey_language as Language\n} from '../../../__generated__/GetJourney'\nimport {\n  ThemeName,\n  ThemeMode,\n  JourneyStatus\n} from '../../../__generated__/globalTypes'\nimport { basic } from '../../libs/testData/storyData'\nimport { JOURNEY_VIEW_EVENT_CREATE, JOURNEY_VISITOR_UPDATE } from './Conductor'\nimport { Conductor } from '.'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\n",[132,855],"import { MockedProvider } from '@apollo/client/testing'\nimport { fireEvent, render, waitFor } from '@testing-library/react'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { SnackbarProvider } from 'notistack'\nimport {\n  GetJourney_journey as Journey,\n  GetJourney_journey_language as Language\n} from '../../../__generated__/GetJourney'\nimport {\n  ThemeName,\n  ThemeMode,\n  JourneyStatus\n} from '../../../__generated__/globalTypes'\nimport { basic } from '../../libs/testData/storyData'\nimport { JOURNEY_VIEW_EVENT_CREATE, JOURNEY_VISITOR_UPDATE } from './Conductor'\nimport { Conductor } from '.'\nimport {\n  TreeBlock,\n  treeBlocksVar,\n  blockHistoryVar\n} from '@core/journeys/ui/block'\n",[300,807],"import {\n  JourneyFields as Journey,\n  JourneyFields_language as Language\n} from '@core/journeys/ui/JourneyProvider/__generated__/JourneyFields'\nimport { journeysConfig } from '../../libs/storybook'\nimport {\n  ThemeName,\n  ThemeMode,\n  JourneyStatus,\n  ChatPlatform\n} from '../../../__generated__/globalTypes'\nimport {\n  basic,\n  imageBlocks,\n  videoBlocks,\n  videoLoop\n} from '../../libs/testData/storyData'\nimport { Conductor } from '.'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\n",[368,807],"import { journeysConfig } from '../../libs/storybook'\nimport {\n  ThemeName,\n  ThemeMode,\n  JourneyStatus,\n  ChatPlatform\n} from '../../../__generated__/globalTypes'\nimport {\n  basic,\n  imageBlocks,\n  videoBlocks,\n  videoLoop\n} from '../../libs/testData/storyData'\nimport { Conductor } from '.'\nimport {\n  JourneyFields as Journey,\n  JourneyFields_language as Language\n} from '@core/journeys/ui/JourneyProvider/__generated__/JourneyFields'\n",{"messageId":"445","fix":"446","desc":"447"},[327,737],"import { gql, useMutation } from '@apollo/client'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\n",[327,999],"import Div100vh from 'react-div-100vh'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\n",[327,1035],"import { v4 as uuidv4 } from 'uuid'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\n",[327,1077],"import TagManager from 'react-gtm-module'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { v4 as uuidv4 } from 'uuid'\n",[327,1164],"import { JourneyViewEventCreate } from '../../../__generated__/JourneyViewEventCreate'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\n",[327,1227],"import { StepFields } from '../../../__generated__/StepFields'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { JourneyViewEventCreate } from '../../../__generated__/JourneyViewEventCreate'\n",[327,1299],"import { VisitorUpdateInput } from '../../../__generated__/globalTypes'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { JourneyViewEventCreate } from '../../../__generated__/JourneyViewEventCreate'\nimport { StepFields } from '../../../__generated__/StepFields'\n",[327,1442],"import { NavigationButton } from './NavigationButton'\nimport { ThemeProvider } from '@core/shared/ui/ThemeProvider'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { getStepTheme } from '@core/journeys/ui/getStepTheme'\nimport { useJourney } from '@core/journeys/ui/JourneyProvider'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { gql, useMutation } from '@apollo/client'\nimport { getJourneyRTL } from '@core/journeys/ui/rtl'\nimport { StepHeader } from '@core/journeys/ui/StepHeader'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { v4 as uuidv4 } from 'uuid'\nimport TagManager from 'react-gtm-module'\nimport { JourneyViewEventCreate } from '../../../__generated__/JourneyViewEventCreate'\nimport { StepFields } from '../../../__generated__/StepFields'\nimport { VisitorUpdateInput } from '../../../__generated__/globalTypes'\n\nimport 'swiper/swiper.min.css'\nimport 'swiper/components/pagination/pagination.min.css'\n",{"desc":"448","fix":"449"},{"kind":"450","justification":"451"},[0,207],"import { fireEvent, render, waitFor } from '@testing-library/react'\nimport { treeBlocksVar, blockHistoryVar } from '@core/journeys/ui/block'\nimport { showNavigationVar } from '@core/journeys/ui/block/block'\n",[0,262],"import { NavigationButton } from './NavigationButton'\nimport { treeBlocksVar, blockHistoryVar } from '@core/journeys/ui/block'\nimport { showNavigationVar } from '@core/journeys/ui/block/block'\nimport { fireEvent, render, waitFor } from '@testing-library/react'\n\n",[249,554],"import { StepFields } from '../../../../__generated__/StepFields'\nimport type { TreeBlock } from '@core/journeys/ui/block'\nimport { useBlocks } from '@core/journeys/ui/block'\nimport ChevronLeftIcon from '@core/shared/ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@core/shared/ui/icons/ChevronRight'\n",[37,466],"import type { TreeBlock } from '@core/journeys/ui/block'\nimport MuiButton from '@mui/material/Button'\nimport Box from '@mui/material/Box'\n\nimport { IconFields } from '../../../../__generated__/IconFields'\nimport { ButtonVariant } from '../../../../__generated__/globalTypes'\nimport { GetJourney_journey_blocks_ButtonBlock as ButtonBlock } from '../../../../__generated__/GetJourney'\nimport { Icon } from '@core/journeys/ui/Icon'\n",[83,466],"import MuiButton from '@mui/material/Button'\nimport Box from '@mui/material/Box'\n\nimport { IconFields } from '../../../../__generated__/IconFields'\nimport { ButtonVariant } from '../../../../__generated__/globalTypes'\nimport { GetJourney_journey_blocks_ButtonBlock as ButtonBlock } from '../../../../__generated__/GetJourney'\nimport type { TreeBlock } from '@core/journeys/ui/block'\n",[158,482],"import { v4 as uuidv4 } from 'uuid'\nimport { GetJourney_journey_blocks_TypographyBlock as TypographyBlock } from '../../../__generated__/GetJourney'\nimport { basic } from '../../libs/testData/storyData'\nimport { EmbeddedPreview } from './EmbeddedPreview'\nimport { STEP_VIEW_EVENT_CREATE } from '@core/journeys/ui/Step/Step'\n",[156,699],"import { JourneyFields as Journey } from '@core/journeys/ui/JourneyProvider/__generated__/JourneyFields'\nimport { SnackbarProvider } from 'notistack'\nimport { journeysConfig } from '../../libs/storybook'\nimport {\n  basic,\n  imageBlocks,\n  videoBlocks,\n  videoBlocksNoPoster,\n  videoBlocksNoVideo,\n  videoLoop\n} from '../../libs/testData/storyData'\n\nimport { ThemeMode, ThemeName } from '../../../__generated__/globalTypes'\nimport { EmbeddedPreview } from './EmbeddedPreview'\nimport { JourneyProvider } from '@core/journeys/ui/JourneyProvider'\n",[224,699],"import { SnackbarProvider } from 'notistack'\nimport { journeysConfig } from '../../libs/storybook'\nimport {\n  basic,\n  imageBlocks,\n  videoBlocks,\n  videoBlocksNoPoster,\n  videoBlocksNoVideo,\n  videoLoop\n} from '../../libs/testData/storyData'\n\nimport { ThemeMode, ThemeName } from '../../../__generated__/globalTypes'\nimport { EmbeddedPreview } from './EmbeddedPreview'\nimport { JourneyFields as Journey } from '@core/journeys/ui/JourneyProvider/__generated__/JourneyFields'\n",[116,764],"import { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\nimport { useRouter } from 'next/router'\nimport IconButton from '@mui/material/IconButton'\nimport Close from '@mui/icons-material/Close'\n\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\nimport { Conductor } from '../Conductor'\n\nimport { ButtonWrapper } from './ButtonWrapper/ButtonWrapper'\nimport { RadioOptionWrapper } from './RadioOptionWrapper/RadioOptionWrapper'\nimport { VideoWrapper } from './VideoWrapper/VideoWrapper'\nimport type { TreeBlock } from '@core/journeys/ui/block'\n",[173,764],"import { useRouter } from 'next/router'\nimport IconButton from '@mui/material/IconButton'\nimport Close from '@mui/icons-material/Close'\n\n// Used to resolve dynamic viewport height on Safari\nimport Div100vh from 'react-div-100vh'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\nimport { Conductor } from '../Conductor'\n\nimport { ButtonWrapper } from './ButtonWrapper/ButtonWrapper'\nimport { RadioOptionWrapper } from './RadioOptionWrapper/RadioOptionWrapper'\nimport { VideoWrapper } from './VideoWrapper/VideoWrapper'\nimport { BlockRenderer } from '@core/journeys/ui/BlockRenderer'\n",[466,764],"import { Conductor } from '../Conductor'\n\nimport { ButtonWrapper } from './ButtonWrapper/ButtonWrapper'\nimport { RadioOptionWrapper } from './RadioOptionWrapper/RadioOptionWrapper'\nimport { VideoWrapper } from './VideoWrapper/VideoWrapper'\nimport { StepFooter } from '@core/journeys/ui/StepFooter'\n",[225,401],"import { GetJourney_journey_blocks_RadioOptionBlock as RadioOptionBlock } from '../../../../__generated__/GetJourney'\nimport type { TreeBlock } from '@core/journeys/ui/block'\n\n",[48,383],"import { VideoFields as VideoBlock } from '../../../../__generated__/VideoFields'\nimport { VideoBlockSource } from '../../../../__generated__/globalTypes'\nimport { ImageFields as ImageBlock } from '../../../../__generated__/ImageFields'\nimport { VideoWrapper } from './VideoWrapper'\nimport { TreeBlock } from '@core/journeys/ui/block'\n",[65,737],"import Box from '@mui/material/Box'\nimport Paper from '@mui/material/Paper'\nimport { useTheme } from '@mui/material/styles'\nimport { blurImage } from '@core/journeys/ui/blurImage'\nimport VideocamRounded from '@mui/icons-material/VideocamRounded'\nimport { NextImage } from '@core/shared/ui/NextImage'\nimport videojs from 'video.js'\nimport Player from 'video.js/dist/types/player'\n\nimport {\n  GetJourney_journey_blocks_VideoBlock as VideoBlock,\n  GetJourney_journey_blocks_ImageBlock as ImageBlock\n} from '../../../../__generated__/GetJourney'\nimport { VideoBlockSource } from '../../../../__generated__/globalTypes'\nimport type { TreeBlock } from '@core/journeys/ui/block'\n",[246,737],"import VideocamRounded from '@mui/icons-material/VideocamRounded'\nimport { NextImage } from '@core/shared/ui/NextImage'\nimport videojs from 'video.js'\nimport Player from 'video.js/dist/types/player'\n\nimport {\n  GetJourney_journey_blocks_VideoBlock as VideoBlock,\n  GetJourney_journey_blocks_ImageBlock as ImageBlock\n} from '../../../../__generated__/GetJourney'\nimport { VideoBlockSource } from '../../../../__generated__/globalTypes'\nimport { blurImage } from '@core/journeys/ui/blurImage'\n",[368,737],"import videojs from 'video.js'\nimport Player from 'video.js/dist/types/player'\n\nimport {\n  GetJourney_journey_blocks_VideoBlock as VideoBlock,\n  GetJourney_journey_blocks_ImageBlock as ImageBlock\n} from '../../../../__generated__/GetJourney'\nimport { VideoBlockSource } from '../../../../__generated__/globalTypes'\nimport { NextImage } from '@core/shared/ui/NextImage'\n",[0,220],"import {\n  ButtonColor,\n  ButtonSize,\n  ButtonVariant,\n  IconName,\n  IconSize,\n  TypographyVariant,\n  VideoBlockSource\n} from '../../../__generated__/globalTypes'\nimport type { TreeBlock } from '@core/journeys/ui/block'\n","floatingFixVoid",{"range":"452","text":"453"},"Add void operator to ignore.","Update the dependencies array to be: [admin, journey, journeyViewEventCreate, journeyVisitorUpdate]",{"range":"454","text":"455"},"directive","",[2850,2850],"void ",[4556,4565],"[admin, journey, journeyViewEventCreate, journeyVisitorUpdate]"]