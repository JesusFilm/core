---
title: 1. Development Environment
---

# Setup Development Environment

<div
  style={{
    position: 'relative',
    paddingBottom: '64.63195691202873%',
    marginBottom: '20px',
    height: 0
  }}
>
  <iframe
    src="https://www.loom.com/embed/7be2879fb2c846ed9cfb831d86fc8972"
    frameborder="0"
    allowFullScreen="true"
    webkitallowfullscreen="true"
    mozallowfullscreen="true"
    style={{
      position: 'absolute',
      top: 0,
      left: 0,
      width: '100%',
      height: '100%'
    }}
  />
</div>

We use [Visual Studio Code](https://code.visualstudio.com/) with the [Remote - Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers) extension. This lets you use a [Docker container](https://docker.com/) as a full-featured development environment. A devcontainer.json file in Core tells VS Code how to access (or create) a development container with a well-defined tool and runtime stack.

To get started try the following:

1. Install [Visual Studio Code](https://code.visualstudio.com/)
1. Install [Docker Desktop](https://www.docker.com/get-started)
1. Start Docker Desktop
   - **PC users**: Windows limits resources to WSL 2 (Memory/CPU), this limit can be configured in your [.wslconfig file](https://docs.microsoft.com/en-us/windows/wsl/wsl-config#configure-global-options-with-wslconfig).
1. Start VS Code and add [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers) Extension
1. Run `Dev-Containers: Clone Repository in Container Volume...` from the Command Palette (F1).
1. Pick GitHub (You'll need to authenticate with GitHub), then enter `JesusFilm/core`, finally choose the `main` branch to clone.
1. The VS Code window (instance) will reload, clone the source code, and start building the dev container. A progress notification provides status updates.
1. After the build completes, VS Code will automatically connect to the container. You can now work with the repository source code in this independent environment as you would if you had cloned the code locally.

## Common Issues

### VS Code fails to build container on Mac

```
docker-compose version --short
fork/exec /usr/local/bin/docker-compose-v1: bad CPU type in executable
```

1. Open Docker Desktop
1. Go to Settings -> General, and scroll down to the bottom
1. Tick 'Use Docker Compose V2'
1. Click 'Apply & Restart'
1. Go to VS code and run 'Rebuild Container'. The container should now build successfully

### Container is running slowly or crashing on Mac

1. Open Docker Desktop
1. Go to Settings -> Resources -> Advanced
1. Set CPUs: 7, Memory: 12.00GB, Swap: 4GB
1. Click 'Apply & Restart'

### "Docker not found" or "Docker daemon not started" when starting VSCode after updating docker

1. Open Docker Desktop
2. Go to Settings -> Advanced and ensure the following settings are selected:

- System (requires password)
- Allow the default Docker socket to be used (requires password)
- Allow privileged port mapping (requires password)
- Automatically check configuration
