scalar Object

type Batch @key(fields: "id") {
  id: ID!
  nexusId: String!
  name: String!
  status: BatchStatus!
  tasks: [BatchTask!]!
  progress: Float
  createdAt: DateTime!
}

enum BatchStatus {
  pending
  running
  completed
  failed
  cancelled
  paused
  error
  warning
  scheduled
}

type BatchTask @key(fields: "id") {
  id: ID!
  batchId: String!
  type: BatchTaskType!
  status: TaskStatus!
  progress: Float
  metadata: Object
  error: String
}

enum BatchTaskType {
  video_upload
  caption_processing
  localization
}

enum TaskStatus {
  pending
  processing
  completed
  failed
}

input BatchFilter {
  ids: [ID!]
  name: String
  nexusId: String
  status: BatchStatus
  limit: Int
}

extend type Query {
  batches(where: BatchFilter): [Batch!]
  batch(id: ID!): Batch!
}
