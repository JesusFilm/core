name = "jf-proxy"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]
main = "src/index.ts"

[env.stage]
name = "jf-proxy-stage"
routes = [
  { pattern = "develop.jesusfilm.org/watch*", zone_name = "jesusfilm.org" },
  { pattern = "develop.jesusfilm.org/journeys*", zone_name = "jesusfilm.org" },
  { pattern = "develop.jesusfilm.org/calendar", zone_name = "jesusfilm.org" },
  { pattern = "develop.jesusfilm.org/products", zone_name = "jesusfilm.org" },
  { pattern = "develop.jesusfilm.org/resources", zone_name = "jesusfilm.org" },
  { pattern = "develop.jesusfilm.org/bin/*", zone_name = "jesusfilm.org" },
  { pattern = "develop.jesusfilm.org/api/*", zone_name = "jesusfilm.org" },
  { pattern = "develop.jesusfilm.org/_next/*", zone_name = "jesusfilm.org" }
]

[env.prod]
name = "jf-proxy-prod"
routes = [
  { pattern = "jesusfilm.org/watch*", zone_name = "jesusfilm.org" },
  { pattern = "jesusfilm.org/bin/*", zone_name = "jesusfilm.org" },
  { pattern = "jesusfilm.org/api/*", zone_name = "jesusfilm.org" },
  { pattern = "jesusfilm.org/_next/*", zone_name = "jesusfilm.org" }
]
